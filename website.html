<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="description" content="Learn how to create a package, the fundamental unit of shareable, reusable, and reproducible R code.">
<title>19&nbsp; Website – R Packages (2e)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./software-development-practices.html" rel="next">
<link href="./other-markdown.html" rel="prev">
<link href="./images/cover-2e-small.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-effd1d583749308455634d6d95c3cdc4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script defer="" data-domain="r-pkgs.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./man.html">Documentation</a></li><li class="breadcrumb-item"><a href="./website.html"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Website</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R Packages (2e)</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/hadley/r-pkgs/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Getting started</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./whole-game.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">The Whole Game</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">System setup</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./structure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Package structure and state</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workflow101.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Fundamental development workflows</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./package-within.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">The package within</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Package components</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">R code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Other components</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Package metadata</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title"><code>DESCRIPTION</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dependencies-mindset-background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Dependencies: Mindset and Background</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dependencies-in-practice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Dependencies: In Practice</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./license.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Licensing</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Testing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Testing basics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Designing your test suite</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-advanced.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Advanced testing techniques</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Documentation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./man.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Function documentation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vignettes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Vignettes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./other-markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Other markdown files</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./website.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Website</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Maintenance and distribution</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./software-development-practices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Software development practices</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lifecycle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Lifecycle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./release.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Releasing to CRAN</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">References</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R-CMD-check.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title"><code>R CMD check</code></span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#initiate-a-site" id="toc-initiate-a-site" class="nav-link active" data-scroll-target="#initiate-a-site"><span class="header-section-number">19.1</span> Initiate a site</a></li>
  <li><a href="#sec-website-deployment" id="toc-sec-website-deployment" class="nav-link" data-scroll-target="#sec-website-deployment"><span class="header-section-number">19.2</span> Deployment</a></li>
  <li><a href="#now-what" id="toc-now-what" class="nav-link" data-scroll-target="#now-what"><span class="header-section-number">19.3</span> Now what?</a></li>
  <li><a href="#logo" id="toc-logo" class="nav-link" data-scroll-target="#logo"><span class="header-section-number">19.4</span> Logo</a></li>
  <li>
<a href="#reference-index" id="toc-reference-index" class="nav-link" data-scroll-target="#reference-index"><span class="header-section-number">19.5</span> Reference index</a>
  <ul class="collapse">
<li><a href="#rendered-examples" id="toc-rendered-examples" class="nav-link" data-scroll-target="#rendered-examples"><span class="header-section-number">19.5.1</span> Rendered examples</a></li>
  <li><a href="#sec-website-reference-linking" id="toc-sec-website-reference-linking" class="nav-link" data-scroll-target="#sec-website-reference-linking"><span class="header-section-number">19.5.2</span> Linking</a></li>
  <li><a href="#index-organization" id="toc-index-organization" class="nav-link" data-scroll-target="#index-organization"><span class="header-section-number">19.5.3</span> Index organization</a></li>
  </ul>
</li>
  <li>
<a href="#vignettes-and-articles" id="toc-vignettes-and-articles" class="nav-link" data-scroll-target="#vignettes-and-articles"><span class="header-section-number">19.6</span> Vignettes and articles</a>
  <ul class="collapse">
<li><a href="#linking" id="toc-linking" class="nav-link" data-scroll-target="#linking"><span class="header-section-number">19.6.1</span> Linking</a></li>
  <li><a href="#index-organization-1" id="toc-index-organization-1" class="nav-link" data-scroll-target="#index-organization-1"><span class="header-section-number">19.6.2</span> Index organization</a></li>
  <li><a href="#non-vignette-articles" id="toc-non-vignette-articles" class="nav-link" data-scroll-target="#non-vignette-articles"><span class="header-section-number">19.6.3</span> Non-vignette articles</a></li>
  </ul>
</li>
  <li><a href="#development-mode" id="toc-development-mode" class="nav-link" data-scroll-target="#development-mode"><span class="header-section-number">19.7</span> Development mode</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/hadley/r-pkgs/edit/main/website.Rmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/hadley/r-pkgs/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./man.html">Documentation</a></li><li class="breadcrumb-item"><a href="./website.html"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Website</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="sec-website" class="quarto-section-identifier"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Website</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>At this point, we’ve discussed many ways to document your package:</p>
<ul>
<li><p>Function documentation or, more generally, help topics (<a href="man.html" class="quarto-xref"><span>Chapter 16</span></a>).</p></li>
<li><p>Documentation of datasets (<a href="data.html#sec-documenting-data" class="quarto-xref"><span>Section 7.1.2</span></a>).</p></li>
<li><p>Vignettes (and articles) (<a href="vignettes.html" class="quarto-xref"><span>Chapter 17</span></a>).</p></li>
<li><p>README and NEWS (<a href="other-markdown.html" class="quarto-xref"><span>Chapter 18</span></a>).</p></li>
</ul>
<p>Wouldn’t it be divine if all of that somehow got bundled up together into a beautiful website for your package? The <a href="https://pkgdown.r-lib.org">pkgdown package</a> is meant to provide exactly this magic and that is the topic of this chapter.</p>
<section id="initiate-a-site" class="level2" data-number="19.1"><h2 data-number="19.1" class="anchored" data-anchor-id="initiate-a-site">
<span class="header-section-number">19.1</span> Initiate a site</h2>
<p>Assuming your package has a valid structure, pkgdown should be able to make a website for it. Obviously that website will be more substantial if your package has more of the documentation elements listed above. But something reasonable should happen for any valid R package.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>We hear that some folks put off “learning pkgdown”, because they think it’s going to be a lot of work. But then they eventually execute the two commands we show next and have a decent website in less than five minutes!</p>
</div>
</div>
<p><code><a href="https://usethis.r-lib.org/reference/use_pkgdown.html">usethis::use_pkgdown()</a></code> is a function you run once and it does the initial, minimal setup necessary to start using pkgdown:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_pkgdown.html">use_pkgdown</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<pre><code>#&gt; ✔ Setting active project to "/tmp/RtmpyKETwf/mypackage".
#&gt; ✔ Adding "^_pkgdown\\.yml$", "^docs$", and "^pkgdown$" to
#&gt;   '.Rbuildignore'.
#&gt; ✔ Adding "docs" to '.gitignore'.
#&gt; ✔ Writing '_pkgdown.yml'.
#&gt; ☐ Edit '_pkgdown.yml'.
#&gt; ✔ Setting active project to "&lt;no active project&gt;".</code></pre>
</div>
<p>Here’s what <code>use_pkgdown()</code> does:</p>
<ul>
<li><p>Creates <code>_pkgdown.yml</code>, which is the main configuration file for pkgdown. In an interactive session, <code>_pkgdown.yml</code> will be opened for inspection and editing. But there’s no immediate need to change or add anything here.</p></li>
<li><p>Adds various patterns to <code>.Rbuildignore</code>, to keep pkgdown-specific files and directories from being included in your package bundle.</p></li>
<li><p>Adds <code>docs</code>, the default destination for a rendered site, to <code>.gitignore</code>. This is harmless for those who don’t use Git. For those who do, this opts you in to our recommended lifestyle, where the definitive source for your pkgdown site is built and deployed elsewhere (probably via GitHub Actions and Pages; more on this soon). This means the rendered website at <code>docs/</code> just serves as a local preview.</p></li>
</ul>
<p><code><a href="https://pkgdown.r-lib.org/reference/build_site.html">pkgdown::build_site()</a></code> is a function you’ll call repeatedly, to re-render your site locally. In an extremely barebones package, you’ll see something like this:</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">pkgdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgdown.r-lib.org/reference/build_site.html">build_site</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<pre><code>#&gt; ✔ Setting active project to "/tmp/RtmpyKETwf/mypackage".
#&gt; ── Installing package mypackage into temporary library ─────────────
#&gt; ── Initialising site ───────────────────────────────────────────────────────────
#&gt; Copying &lt;pkgdown&gt;/BS5/assets/katex-auto.js to katex-auto.js
#&gt; Copying &lt;pkgdown&gt;/BS5/assets/lightswitch.js to lightswitch.js
#&gt; Copying &lt;pkgdown&gt;/BS5/assets/link.svg to link.svg
#&gt; Copying &lt;pkgdown&gt;/BS5/assets/pkgdown.js to pkgdown.js
#&gt; Updating deps/bootstrap-5.3.1/bootstrap.bundle.min.js
#&gt; Updating deps/bootstrap-5.3.1/bootstrap.bundle.min.js.map
#&gt; Updating deps/bootstrap-5.3.1/bootstrap.min.css
#&gt; Updating deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js
#&gt; Updating deps/clipboard.js-2.0.11/clipboard.min.js
#&gt; Updating deps/font-awesome-6.5.2/css/all.css
#&gt; Updating deps/font-awesome-6.5.2/css/all.min.css
#&gt; Updating deps/font-awesome-6.5.2/css/v4-shims.css
#&gt; Updating deps/font-awesome-6.5.2/css/v4-shims.min.css
#&gt; Updating deps/font-awesome-6.5.2/webfonts/fa-brands-400.ttf
#&gt; Updating deps/font-awesome-6.5.2/webfonts/fa-brands-400.woff2
#&gt; Updating deps/font-awesome-6.5.2/webfonts/fa-regular-400.ttf
#&gt; Updating deps/font-awesome-6.5.2/webfonts/fa-regular-400.woff2
#&gt; Updating deps/font-awesome-6.5.2/webfonts/fa-solid-900.ttf
#&gt; Updating deps/font-awesome-6.5.2/webfonts/fa-solid-900.woff2
#&gt; Updating deps/font-awesome-6.5.2/webfonts/fa-v4compatibility.ttf
#&gt; Updating deps/font-awesome-6.5.2/webfonts/fa-v4compatibility.woff2
#&gt; Updating deps/headroom-0.11.0/headroom.min.js
#&gt; Updating deps/headroom-0.11.0/jQuery.headroom.min.js
#&gt; Updating deps/jquery-3.6.0/jquery-3.6.0.js
#&gt; Updating deps/jquery-3.6.0/jquery-3.6.0.min.js
#&gt; Updating deps/jquery-3.6.0/jquery-3.6.0.min.map
#&gt; Updating deps/search-1.0.0/autocomplete.jquery.min.js
#&gt; Updating deps/search-1.0.0/fuse.min.js
#&gt; Updating deps/search-1.0.0/mark.min.js
#&gt; ── Building pkgdown site for package mypackage ─────────────────────────────────
#&gt; Reading from: /tmp/RtmpyKETwf/mypackage
#&gt; Writing to: /tmp/RtmpyKETwf/mypackage/docs
#&gt; ── Sitrep ──────────────────────────────────────────────────────────────────────
#&gt; ✖ URLs not ok.
#&gt;   In _pkgdown.yml, url is missing.
#&gt;   See details in `vignette(pkgdown::metadata)`.
#&gt; ✔ Favicons ok.
#&gt; ✔ Open graph metadata ok.
#&gt; ✔ Articles metadata ok.
#&gt; ✔ Reference metadata ok.
#&gt; ── Initialising site ───────────────────────────────────────────────────────────
#&gt; ── Building home ───────────────────────────────────────────────────────────────
#&gt; Writing `authors.html`
#&gt; Reading 'DESCRIPTION'
#&gt; Writing `index.html`
#&gt; Writing `404.html`
#&gt; ── Building function reference ─────────────────────────────────────────────────
#&gt; Writing `reference/index.html`
#&gt; ── Building sitemap ────────────────────────────────────────────────────────────
#&gt; Writing `sitemap.xml`
#&gt; ── Building search index ───────────────────────────────────────────────────────
#&gt; ── Checking for problems ───────────────────────────────────────────────────────
#&gt; ── Finished building pkgdown site for package mypackage ────────────────────────
#&gt; ── Finished building pkgdown site for package mypackage ────────────
#&gt; ✔ Setting active project to "&lt;no active project&gt;".</code></pre>
</div>
<p>In an interactive session your newly rendered site should appear in your default web browser.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
RStudio
</div>
</div>
<div class="callout-body-container callout-body">
<p>Another nice gesture to build your site is via <em>Addins &gt; pkgdown &gt; Build pkgdown</em>.</p>
</div>
</div>
<p>You can look in the local <code>docs/</code> directory to see the files that constitute your package’s website. To manually browse the site, open <code>docs/index.html</code> in your preferred browser.</p>
<p>This is almost all you truly need to know about pkgdown. It’s certainly a great start and, as your package and ambitions grow, the best place to learn more is the pkgdown-made website for the pkgdown package itself: <a href="https://pkgdown.r-lib.org" class="uri">https://pkgdown.r-lib.org</a>.</p>
</section><section id="sec-website-deployment" class="level2" data-number="19.2"><h2 data-number="19.2" class="anchored" data-anchor-id="sec-website-deployment">
<span class="header-section-number">19.2</span> Deployment</h2>
<p>Your next task is to deploy your pkgdown site somewhere on the web, so that your users can visit it. The path of least resistance looks like this:</p>
<ul>
<li><p>Use Git and host your package on GitHub. The reasons to do this go well beyond offering a package website, but this will be one of the major benefits to adopting Git and GitHub, if you’re on the fence.</p></li>
<li><p>Use GitHub Actions (GHA) to build your website, i.e.&nbsp;to run <code><a href="https://pkgdown.r-lib.org/reference/build_site.html">pkgdown::build_site()</a></code>. GHA is a platform where you can configure certain actions to happen automatically when some event happens. We’ll use it to rebuild your website every time you push to GitHub.</p></li>
<li><p>Use GitHub Pages to serve your website, i.e.&nbsp;the files you see below <code>docs/</code> locally. GitHub Pages is a static website hosting service that creates a site from files found in a GitHub repo.</p></li>
</ul>
<p>The advice to use GitHub Action and Pages are implemented for you in the function <code><a href="https://usethis.r-lib.org/reference/use_pkgdown.html">usethis::use_pkgdown_github_pages()</a></code>. It’s not an especially difficult task, but there are several steps and it would be easy to miss or flub one. The output of <code>use_pkgdown_github_pages()</code> should look something like this:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_pkgdown.html">use_pkgdown_github_pages</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✔ Initializing empty, orphan 'gh-pages' branch in GitHub repo 'jane/mypackage'</span></span>
<span><span class="co">#&gt; ✔ GitHub Pages is publishing from:</span></span>
<span><span class="co">#&gt; • URL: 'https://jane.github.io/mypackage/'</span></span>
<span><span class="co">#&gt; • Branch: 'gh-pages'</span></span>
<span><span class="co">#&gt; • Path: '/'</span></span>
<span><span class="co">#&gt; ✔ Creating '.github/'</span></span>
<span><span class="co">#&gt; ✔ Adding '^\\.github$' to '.Rbuildignore'</span></span>
<span><span class="co">#&gt; ✔ Adding '*.html' to '.github/.gitignore'</span></span>
<span><span class="co">#&gt; ✔ Creating '.github/workflows/'</span></span>
<span><span class="co">#&gt; ✔ Saving 'r-lib/actions/examples/pkgdown.yaml@v2' to '.github/workflows/pkgdown.yaml'</span></span>
<span><span class="co">#&gt; • Learn more at &lt;https://github.com/r-lib/actions/blob/v2/examples/README.md&gt;.</span></span>
<span><span class="co">#&gt; ✔ Recording 'https://jane.github.io/mypackage/' as site's url in '_pkgdown.yml'</span></span>
<span><span class="co">#&gt; ✔ Adding 'https://jane.github.io/mypackage/' to URL field in DESCRIPTION</span></span>
<span><span class="co">#&gt; ✔ Setting 'https:/jane.github.io/mypackage/' as homepage of GitHub repo 'jane/mypackage'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Like <code>use_pkgdown()</code>, this is a function you basically call once, when setting up a new site. In fact, the first thing it does is to call <code>use_pkgdown()</code> (it’s OK if you’ve already called <code>use_pkgdown()</code>), so we usually skip straight to <code>use_pkgdown_github_pages()</code> when setting up a new site.</p>
<p>Let’s walk through what <code>use_pkgdown_github_pages()</code> actually does:</p>
<ul>
<li><p>Initializes an empty, “orphan” branch in your GitHub repo, named <code>gh-pages</code> (for “GitHub Pages”). The <code>gh-pages</code> branch will only live on GitHub (there’s no reason to fetch it to your local computer) and it represents a separate, parallel universe from your actual package source. The only files tracked in <code>gh-pages</code> are those that constitute your package’s website (the files that you see locally below <code>docs/</code>).</p></li>
<li><p>Turns on GitHub Pages for your repo and tells it to serve a website from the files found in the <code>gh-pages</code> branch.</p></li>
<li><p>Copies the configuration file for a GHA workflow that does pkgdown “build and deploy”. The file shows up in your package as <code>.github/workflows/pkgdown.yaml</code>. If necessary, some related additions are made to <code>.gitignore</code> and <code>.Rbuildignore</code>.</p></li>
<li><p>Adds the URL for your site as the homepage for your GitHub repo.</p></li>
<li><p>Adds the URL for your site to <code>DESCRIPTION</code> and <code>_pkgdown.yml</code>. The autolinking behaviour we’ve touted elsewhere relies on your package listing its URL in these two places, so this is a high-value piece of configuration.</p></li>
</ul>
<p>After successful execution of <code>use_pkgdown_github_pages()</code>, you should be able to visit your new site at the URL displayed in the output above.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> By default the URL has this general form: <code>https://USERNAME.github.io/REPONAME/</code>.</p>
</section><section id="now-what" class="level2" data-number="19.3"><h2 data-number="19.3" class="anchored" data-anchor-id="now-what">
<span class="header-section-number">19.3</span> Now what?</h2>
<p>For a typical package, you could stop here — after creating a basic pkgdown site and arranging for it to be re-built and deployed regularly — and people using (or considering using) your package would benefit greatly. Everything beyond this point is a “nice to have”.</p>
<p>Overall, we recommend <code><a href="https://pkgdown.r-lib.org/articles/pkgdown.html">vignette("pkgdown", package = "pkgdown")</a></code> as a good place to start, if you think you want to go beyond the basic defaults.</p>
<p>In the sections below, we highlight a few areas that are connected to other topics in the book or customizations that are particularly rewarding.</p>
</section><section id="logo" class="level2" data-number="19.4"><h2 data-number="19.4" class="anchored" data-anchor-id="logo">
<span class="header-section-number">19.4</span> Logo</h2>
<p>It’s fun to have a package logo! In the R community, we have a strong tradition of hex stickers, so it can be nice to join in with a hex logo of your own. Keen R user Amelia McNamara <a href="https://www.amelia.mn/blog/2019-08-17-Tidy-Dress/">made herself a dress</a> out of custom hex logo fabric and useR! 2018 featured a <a href="https://www.mitchelloharawild.com/blog/hexwall/">spectacular hex photo wall</a>.</p>
<p>Here are some resources to guide your logo efforts:</p>
<ul>
<li><p>The convention is to orient the logo with a vertex at the top and bottom, with flat vertical sides.</p></li>
<li>
<p>If you think you might print stickers, make sure to comply with the <em>de facto</em> standard for sticker size. <a href="http://hexb.in/sticker.html">hexb.in</a> is a reliable source for the dimensions and also provides a list of potential vendors for printed stickers.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-hex-sticker-spec" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A hexagon oriented with points at the top and bottom  and flat vertical sides. It is labelled with dimensions: 5.08cm (2&quot;) vertically (point to point), and 4.39cm (1.73&quot;) horizontally (flat side to flat side).">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-hex-sticker-spec-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="diagrams/hex-image.png" class="img-fluid figure-img" style="width:35.0%" alt="A hexagon oriented with points at the top and bottom  and flat vertical sides. It is labelled with dimensions: 5.08cm (2&quot;) vertically (point to point), and 4.39cm (1.73&quot;) horizontally (flat side to flat side).">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hex-sticker-spec-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;19.1: Standard dimensions of a hex sticker.
</figcaption></figure>
</div>
</div>
</div>
</li>
<li><p>The <a href="https://cran.r-project.org/package=hexSticker">hexSticker package</a> helps you make your logo from within the comfort of R.</p></li>
</ul>
<p>Once you have your logo, the <code><a href="https://usethis.r-lib.org/reference/use_logo.html">usethis::use_logo()</a></code> function places an appropriately scaled copy of the image file at <code>man/figures/logo.png</code> and also provides a copy-paste-able markdown snippet to include your logo in your <code>README</code>. pkgdown will also discover a logo placed in the standard location and incorporate it into your site.</p>
</section><section id="reference-index" class="level2" data-number="19.5"><h2 data-number="19.5" class="anchored" data-anchor-id="reference-index">
<span class="header-section-number">19.5</span> Reference index</h2>
<p>pkgdown creates a function reference in <code>reference/</code> that includes one page for each <code>.Rd</code> help topic in <code>man/</code>. This is one of the first pages you should admire in your new site. As you look around, there are a few things to contemplate, which we review below.</p>
<section id="rendered-examples" class="level3" data-number="19.5.1"><h3 data-number="19.5.1" class="anchored" data-anchor-id="rendered-examples">
<span class="header-section-number">19.5.1</span> Rendered examples</h3>
<p>pkgdown executes all your examples (<a href="man.html#sec-man-examples" class="quarto-xref"><span>Section 16.5</span></a>) and inserts the rendered results. We find this is a fantastic improvement over just showing the source code. This view of your examples can be eye-opening and often you’ll notice things you want to add, omit, or change. If you’re not satisfied with how your examples appear, this is a good time to review techniques for including code that is expected to error (<a href="man.html#sec-man-examples-errors" class="quarto-xref"><span>Section 16.5.3</span></a>) or that can only be executed under certain conditions (<a href="man.html#sec-man-examples-dependencies-conditional-execution" class="quarto-xref"><span>Section 16.5.4</span></a>).</p>
</section><section id="sec-website-reference-linking" class="level3" data-number="19.5.2"><h3 data-number="19.5.2" class="anchored" data-anchor-id="sec-website-reference-linking">
<span class="header-section-number">19.5.2</span> Linking</h3>
<p>These help topics will be linked to from many locations within and, potentially, beyond your pkgdown site. This is what we are talking about in <a href="man.html#sec-man-key-md-features" class="quarto-xref"><span>Section 16.1.3</span></a> when we recommend putting functions inside square brackets when mentioning them in a roxygen comment:</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' I am a big fan of [thisfunction()] in my package. I</span></span>
<span><span class="co">#' also have something to say about [otherpkg::otherfunction()]</span></span>
<span><span class="co">#' in somebody else's package.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>On pkgdown sites, those square-bracketed functions become hyperlinks to the relevant pages in your pkgdown site. This is automatic within your package. But inbound links from <em>other</em> people’s packages (and websites, etc.) require two things<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>:</p>
<ul>
<li>
<p>The <code>URL</code> field of your <code>DESCRIPTION</code> file must include the URL of your pkgdown site (preferably followed by the URL of your GitHub repo):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">URL</span><span class="kw">:</span><span class="at"> https://dplyr.tidyverse.org, https://github.com/tidyverse/dplyr</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</li>
<li>
<p>Your <code>_pkgdown.yml</code> file must include the URL for your site:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">url</span><span class="kw">:</span><span class="at"> https://dplyr.tidyverse.org</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</li>
</ul>
<p>devtools takes every chance it gets to do this sort of configuration for you. But if you elect to do things manually, this is something you might overlook. A general resource on auto-linking in pkgdown is <code><a href="https://pkgdown.r-lib.org/articles/linking.html">vignette("linking", package = "pkgdown")</a></code>.</p>
</section><section id="index-organization" class="level3" data-number="19.5.3"><h3 data-number="19.5.3" class="anchored" data-anchor-id="index-organization">
<span class="header-section-number">19.5.3</span> Index organization</h3>
<p>By default, the reference index is just an alphabetically-ordered list of functions. For packages with more than a handful of functions, it’s often worthwhile to curate the index and organize the functions into groups. For example, dplyr uses this technique: <a href="https://dplyr.tidyverse.org/reference/index.html" class="uri">https://dplyr.tidyverse.org/reference/index.html</a>.</p>
<p>You achieve this by providing a <code>reference</code> field in <code>_pkgdown.yml</code>. Here’s a redacted excerpt from dplyr’s <code>_pkgdown.yml</code> file that gives you a sense of what’s involved:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">reference</span><span class="kw">:</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Data frame verbs</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">subtitle</span><span class="kw">:</span><span class="at"> Rows</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">  desc</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    Verbs that principally operate on rows.</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">contents</span><span class="kw">:</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> arrange</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> distinct</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="at">  ...</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">subtitle</span><span class="kw">:</span><span class="at"> Columns</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="fu">  desc</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    Verbs that principally operate on columns.</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">contents</span><span class="kw">:</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> glimpse</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> mutate</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="at">  ...</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Vector functions</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="fu">  desc</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    Unlike other dplyr functions, these functions work on individual vectors,</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    not data frames.</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">contents</span><span class="kw">:</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> between</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> case_match</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="at">  ...</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Built in datasets</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">contents</span><span class="kw">:</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> band_members</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> starwars</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> storms</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a><span class="at">  ...</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Superseded</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a><span class="fu">  desc</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>    Superseded functions have been replaced by new approaches that we believe</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>    to be superior, but we don't want to force you to change until you're</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>    ready, so the existing functions will stay around for several years.</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">contents</span><span class="kw">:</span></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> sample_frac</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> top_n</span></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a><span class="at">  ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To learn more, see <code><a href="https://pkgdown.r-lib.org/reference/build_reference.html">?pkgdown::build_reference</a></code>.</p>
</section></section><section id="vignettes-and-articles" class="level2" data-number="19.6"><h2 data-number="19.6" class="anchored" data-anchor-id="vignettes-and-articles">
<span class="header-section-number">19.6</span> Vignettes and articles</h2>
<p><a href="vignettes.html" class="quarto-xref"><span>Chapter 17</span></a> deals with vignettes, which are long-form guides for a package. They afford various opportunities beyond what’s possible in function documentation. For example, you have much more control over the integration of prose and code and over the presentation of code itself, e.g.&nbsp;code can be executed but not seen, seen but not executed, and so on. It’s much easier to create the reading experience that best prepares your users for authentic usage of your package.</p>
<p>A package’s vignettes appear, in rendered form, in its website, in the <em>Articles</em> dropdown menu. “Vignette” feels like a technical term that we might not expect all R users to know, which is why pkgdown uses the term “articles” here. To be clear, the <em>Articles</em> menu lists your package’s official vignettes (the ones that are included in your package bundle) and, optionally, other non-vignette articles (<a href="vignettes.html#sec-vignettes-article" class="quarto-xref"><span>Section 17.4.1</span></a>), which are only available on the website.</p>
<section id="linking" class="level3" data-number="19.6.1"><h3 data-number="19.6.1" class="anchored" data-anchor-id="linking">
<span class="header-section-number">19.6.1</span> Linking</h3>
<p>Like function documentation, vignettes can also be the target of automatic inbound links from within your package and, potentially, beyond. We’ve talked about this elsewhere in the book. In <a href="man.html#sec-man-key-md-features" class="quarto-xref"><span>Section 16.1.3</span></a>, we introduced the idea of referring to a vignette with an inline call like <code>vignette("some-topic")</code>. The rationale behind this syntax is because the code can literally be copied, pasted, and executed for local vignette viewing. So it “works” in any context, even without automatic links. But, in contexts where the auto-linking machinery is available, it knows to look for this exact syntax and turn it into a hyperlink to the associated vignette, within a pkgdown site.</p>
<p>The need to specify the host package depends on the context:</p>
<ul>
<li><p><code>vignette("some-topic")</code>: Use this form in your own roxygen comments, vignettes, and articles, to refer to a vignette in your package. The host package is implied.</p></li>
<li><p><code>vignette("some-topic", package = "somepackage")</code>: Use this form to refer to a vignette in some other package. The host package must be explicit.</p></li>
</ul>
<p>Note that this shorthand does <strong>not</strong> work for linking to non-vignette articles. Since the syntax leans so heavily on the <code><a href="https://rdrr.io/r/utils/vignette.html">vignette()</a></code> function, it would be too confusing, i.e.&nbsp;evaluating the code in the console would fail because R won’t be able to find such a vignette. Non-vignette articles must be linked like any other URL.</p>
<p>When you refer to a function in your package, in your vignettes and articles, make sure to put it inside backticks and to include parentheses. Qualify functions from other packages with their namespace. Here’s an example of prose in one of your own vignettes or articles:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>I am a big fan of <span class="in">`thisfunction()`</span> in my package. I also have something to</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>say about <span class="in">`otherpkg::otherfunction()`</span> in somebody else's package.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Remember that automatic inbound links from <em>other</em> people’s packages (and websites, etc.) require that your package advertises the URL of its website in <code>DESCRIPTION</code> and <code>_pkgdown.yaml</code>, as configured by <code><a href="https://usethis.r-lib.org/reference/use_pkgdown.html">usethis:: use_pkgdown_github_pages()</a></code> and as described in <a href="#sec-website-reference-linking" class="quarto-xref"><span>Section 19.5.2</span></a>.</p>
</section><section id="index-organization-1" class="level3" data-number="19.6.2"><h3 data-number="19.6.2" class="anchored" data-anchor-id="index-organization-1">
<span class="header-section-number">19.6.2</span> Index organization</h3>
<p>As with the reference index, the default listing of the articles (broadly defined) in a package is alphabetical. But if your package has several articles, it can be worthwhile to provide additional organization. For example, you might feature the articles aimed at the typical user and tuck those meant for advanced users or developers behind “More articles …”. You can learn more about this in <code><a href="https://pkgdown.r-lib.org/reference/build_articles.html">?pkgdown::build_articles</a></code>.</p>
</section><section id="non-vignette-articles" class="level3" data-number="19.6.3"><h3 data-number="19.6.3" class="anchored" data-anchor-id="non-vignette-articles">
<span class="header-section-number">19.6.3</span> Non-vignette articles</h3>
<p>In general, <a href="vignettes.html" class="quarto-xref"><span>Chapter 17</span></a> is our main source of advice on how to approach vignettes and that also includes some coverage of non-vignette articles (<a href="vignettes.html#sec-vignettes-article" class="quarto-xref"><span>Section 17.4.1</span></a>). Here we review some reasons to use a non-vignette article and give some examples.</p>
<p>An article is morally like a vignette (e.g.&nbsp;it tells a story that involves multiple functions and is written with R markdown), except it does not ship with the package bundle. <code><a href="https://usethis.r-lib.org/reference/use_vignette.html">usethis::use_article()</a></code> is the easiest way to create an article. The main reason to use an article is when you want to show code that is impossible or very painful to include in a vignette or official example. Possible root causes of this pain:</p>
<ul>
<li>
<p>Use of a package you don’t want to formally depend on. In vignettes and examples, it’s forbidden to show your package working with a package that you don’t list in <code>DESCRIPTION</code>, e.g.&nbsp;in <code>Imports</code> or <code>Suggests</code>.</p>
<p>There is a detailed example of this in <a href="dependencies-in-practice.html#sec-dependencies-nonstandard-config-needs" class="quarto-xref"><span>Section 11.7.2</span></a>, featuring a readxl article that uses the tidyverse meta-package. The key idea is to list such a dependency in the <code>Config/Needs/website</code> field of <code>DESCRIPTION</code>. This keeps tidyverse out of readxl’s dependencies, but ensures it’s installed when the website is built.</p>
</li>
<li>
<p>Code that requires authentication or access to specific assets, tools, or secrets that are not available on CRAN.</p>
<p>The <a href="https://googledrive.tidyverse.org">googledrive package</a> has no true vignettes, only non-vignette articles, because it’s essentially impossible to demonstrate usage without authentication. It is possible to access secure environment variables on GitHub Actions, where the pkgdown site is built and deployed, but this is impossible to do on CRAN.</p>
</li>
<li>
<p>Content that involves a lot of figures, which cause your package to bump up against CRAN’s size constraints.</p>
<p>The ggplot2 package <a href="https://ggplot2.tidyverse.org/articles/index.html">presents several FAQs as articles</a> for this reason.</p>
</li>
</ul></section></section><section id="development-mode" class="level2" data-number="19.7"><h2 data-number="19.7" class="anchored" data-anchor-id="development-mode">
<span class="header-section-number">19.7</span> Development mode</h2>
<p>Every pkgdown site has a so-called <a href="https://pkgdown.r-lib.org/reference/build_site.html#development-mode"><em>development mode</em></a>, which can be specified via the <code>development</code> field in <code>_pkgdown.yml</code>. If unspecified, the default is <code>mode: release</code>, which results in a single pkgdown site. Despite the name, this single site reflects the state of the current source package, which could be either a released state or a development state. The diagram below shows the evolution of a hypothetical package that is on CRAN and that has a pkgdown site in “release” mode.</p>
<pre><code>...
 |
 V
Tweaks before release     v0.1.9000
 |
 V
Increment version number  v0.2.0     &lt;-- install.packages() gets this
 |
 V
Increment version number  v0.2.9000  
 |
 V
Improve error message     v0.2.9000  &lt;-- site documents this
 |
 V
...</code></pre>
<p>Users who install from CRAN get version 0.2.0. But the pkgdown site is built from the development version of the package.</p>
<p>This creates the possibility that users will read about some new feature on the website that is not present in the package version that they have installed with <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code>. We find that the simplicity of this setup outweighs the downsides, until a package has a broad user base, i.e.&nbsp;lots of users of varying levels of sophistication. It’s probably safe to stay in “release” mode until you actually hear from a confused user.</p>
<p>Packages with a substantial user base should use “auto” development mode:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">development</span><span class="kw">:</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">mode</span><span class="kw">:</span><span class="at"> auto</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This directs pkgdown to generate a top-level site from the released version and to document the development version in a <code>dev/</code> subdirectory. We revisit the same hypothetical package as above, but assuming the pkdown site is in “auto” mode.</p>
<pre><code>...
 |
 V
Tweaks before release     v0.1.9000
 |
 V
Increment version number  v0.2.0     &lt;-- install.packages() gets this
 |                                       main site documents this
 V
Increment version number  v0.2.9000  
 |
 V
Improve error message     v0.2.9000  &lt;-- dev/ site documents this
 |
 V
...</code></pre>
<p>All of the core tidyverse packages use “auto” mode. For example, consider the website of the readr package:</p>
<ul>
<li><p><a href="https://readr.tidyverse.org">readr.tidyverse.org</a> documents the released version, i.e.&nbsp;what <code>install.packages("readr")</code> delivers.</p></li>
<li><p><a href="https://readr.tidyverse.org/dev/">readr.tidyverse.org/dev/</a> documents the dev version, i.e.&nbsp;what <code>install_github("tidyverse/readr")</code> delivers.</p></li>
</ul>
<p>Automatic development mode is recommended for packages with a broad user base, because it maximizes the chance that a user will read web-based documentation that reflects the package version that is locally installed.</p>


</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>Sometimes there’s a small delay, so give it up to a couple of minutes to deploy.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Another pre-requisite is that your package has been released on CRAN, because the auto-linking machinery has to look up the <code>DESCRIPTION</code> somewhere. It is possible to allow locally installed packages to link to each other, which is described in <code><a href="https://pkgdown.r-lib.org/articles/linking.html">vignette("linking", package = "pkgdown")</a></code>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/r-pkgs\.org\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./other-markdown.html" class="pagination-link" aria-label="Other markdown files">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Other markdown files</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./software-development-practices.html" class="pagination-link" aria-label="Software development practices">
        <span class="nav-page-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Software development practices</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hadley/r-pkgs/edit/main/website.Rmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/hadley/r-pkgs/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>