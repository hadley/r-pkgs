[[sec-preface]]
= Preface
:description: Learn how to create a package, the fundamental unit of shareable, reusable, and reproducible R code.

Welcome to the 2nd edition of R Packages! If you’re familiar with the 1st edition, this preface describes the major changes so that you can focus your reading on the new areas.

There are several main goals for this edition:

* Update to reflect changes in the devtools package, specifically, its https://www.tidyverse.org/articles/2018/10/devtools-2-0-0/#conscious-uncoupling["`conscious uncoupling`"] into a set of smaller, more focused packages.
* Expand coverage of workflow and process, alongside the presentation of all the important moving parts that make up an R package.
* Cover entirely new topics, such as package websites and GitHub Actions.

All content has been completely revised and updated. Many chapters are new or re-organized and a couple have been removed:

* New <<sec-whole-game>>, "`The Whole Game`", previews the entire package development process.
* New <<sec-setup>>, "`System setup`", has been carved out of the previous Introduction and gained more detail.
* The chapter formerly known as "`Package structure`" has been expanded and split into two chapters, one covering package structure and state (<<sec-package-structure-state>>) and another on workflows and tooling (<<sec-workflow101>>).
* New <<sec-package-within>>, "`The package within`", demonstrates how to extract reusable logic out of data analysis scripts and into a package.
* The sections "`Organising your functions`" and "`Code style`", from <<sec-r>>, "`R code`", have been removed, in favor of an online style guide, https://style.tidyverse.org/. The style guide is paired with the new styler package <<styler>> which can automatically apply many of the rules.
* The coverage of testing has expanded into three chapters: <<sec-testing-basics>> for testing basics, <<sec-testing-design>> for test suite design, and <<sec-testing-advanced>> for various advanced topics.
* Material around the `NAMESPACE` file and dependency relationships has been re-organized into two chapters: <<sec-dependencies-mindset-background>> provides technical context for thinking about dependencies and <<sec-dependencies-in-practice>> gives practice instructions for using different types of dependencies in different settings.
* New <<sec-license>>, "`Licensing`", expands earlier content on licensing into its own chapter.
* The chapter on C/C{plus}{plus} has been removed. It didn’t have quite enough information to be useful, and since the first edition of the book, other resources have arisen that are better learning resources.
* The "`Other components`" chapter has been removed.
* The chapter on Git/GitHub has been reframed around the more general topic of software development practices (<<sec-sw-dev-practices>>). This no longer includes step-by-step instructions for basic tasks. The use of Git/GitHub has exploded since the first edition, accompanied by an explosion of learning resources, both general and specific to R (e.g. the website https://happygitwithr.com/index.html[Happy Git and GitHub for the useR]). Git/GitHub still feature prominently throughout the book, most especially in <<sec-sw-dev-practices>>.
* The very short `inst` chapter has been combined into <<sec-misc>>, with all the other directories that can be important in specific contexts, but that aren’t mission critical to all packages.

== Acknowledgments

Since the first edition of R Packages was published, the packages supporting the workflows described here have undergone extensive development. The original trio of devtools, roxygen2, and testthat has expanded to include the packages created by the "`conscious uncoupling`" of devtools, as described in <<sec-setup-usage>>. Most of these packages originate with Hadley Wickham (HW), because of their devtools roots. There are many other significant contributors, many of whom now serve as maintainers:

* devtools: HW, https://github.com/wch[Winston Chang], https://github.com/jimhester[Jim Hester] (maintainer, ++>++= v1.13.5), https://github.com/jennybc[Jennifer Bryan] (maintainer ++>++= v2.4.3)
* usethis: HW, https://github.com/jennybc[Jennifer Bryan] (maintainer ++>++= v1.5.0), Malcolm Barrett
* roxygen2: HW (maintainer), https://github.com/klutometis[Peter Danenburg], https://github.com/mjaeugster[Manuel Eugster]
* testthat: HW (maintainer)
* desc: https://github.com/gaborcsardi[Gábor Csárdi] (maintainer), https://github.com/krlmlr[Kirill Müller], https://github.com/jimhester[Jim Hester]
* pkgbuild: HW, https://github.com/jimhester[Jim Hester], https://github.com/gaborcsardi[Gábor Csárdi] (maintainer ++>++= v1.2.1)
* pkgload: HW, https://github.com/jimhester[Jim Hester], https://github.com/wch[Winston Chang], https://github.com/lionel-[Lionel Henry] (maintainer ++>++= v1.2.4)
* rcmdcheck: https://github.com/gaborcsardi[Gábor Csárdi] (maintainer)
* remotes: HW, https://github.com/jimhester[Jim Hester], https://github.com/gaborcsardi[Gábor Csárdi] (maintainer), https://github.com/wch[Winston Chang], https://github.com/mtmorgan[Martin Morgan], https://github.com/dtenenba[Dan Tenenbaum]
* revdepcheck: HW, https://github.com/gaborcsardi[Gábor Csárdi] (maintainer)
* sessioninfo: HW, https://github.com/gaborcsardi[Gábor Csárdi] (maintainer), https://github.com/wch[Winston Chang], https://github.com/rmflight[Robert Flight], https://github.com/krlmlr[Kirill Müller], https://github.com/jimhester[Jim Hester]

This book was https://github.com/hadley/r-pkgs/[written and revised in the open] and it is truly a community effort: many people read drafts, fix typos, suggest improvements, and contribute content. Without those contributors, the book wouldn’t be nearly as good as it is, and we are deeply grateful for their help. We are indebted to our colleagues at Posit, especially the tidyverse team, for being perpetually game to discuss package development practices. The book has been greatly improved by the suggestions from our fantastic team of technical reviewers: Malcolm Barrett, Laura DeCicco, Zhian Kamvar, Tom Mock and Maëlle Salmon.

....
#> ── Attaching core tidyverse packages ──────────── tidyverse 2.0.0 ──
#> ✔ dplyr     1.1.4     ✔ readr     2.1.6
#> ✔ forcats   1.0.1     ✔ stringr   1.6.0
#> ✔ ggplot2   4.0.1     ✔ tibble    3.3.0
#> ✔ lubridate 1.9.4     ✔ tidyr     1.3.2
#> ✔ purrr     1.2.0     
#> ── Conflicts ────────────────────────────── tidyverse_conflicts() ──
#> ✖ dplyr::filter() masks stats::filter()
#> ✖ dplyr::lag()    masks stats::lag()
#> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors
#> Rows: 410 Columns: 3
#> ── Column specification ────────────────────────────────────────────
#> Delimiter: ","
#> chr (3): user, name, maybe_name
#> 
#> ℹ Use `spec()` to retrieve the full column specification for this data.
#> ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
....

Thanks to all contributors the the first and second editions (in alphabetical order by GitHub username):

https://github.com/aaelony[@aaelony], https://github.com/aaronwolen[@aaronwolen] (Aaron Wolen), https://github.com/ablejec[@ablejec] (Andrej Blejec), https://github.com/adamcduncan[@adamcduncan] (Adam Duncan), https://github.com/adessy[@adessy], https://github.com/adrtod[@adrtod] (Adrien Todeschini), https://github.com/aghaynes[@aghaynes] (Alan Haynes), https://github.com/agrueneberg[@agrueneberg] (Alexander Grueneberg), https://github.com/alejandrohagan[@alejandrohagan] (Alejandro Hagan), https://github.com/alesantuz[@alesantuz] (Ale Santuz), https://github.com/alexandrehsd[@alexandrehsd] (Alexandre Henrique), https://github.com/alexholcombe[@alexholcombe] (Alex O. Holcombe), https://github.com/alexpghayes[@alexpghayes] (alex hayes), https://github.com/alforj[@alforj] (Justin Alford), https://github.com/almartin82[@almartin82] (Andrew Martin), https://github.com/aluxh[@aluxh] (Alex Ho), https://github.com/AmelZulji[@AmelZulji], https://github.com/andreaphsz[@andreaphsz] (Andrea Cantieni), https://github.com/andrewdolman[@andrewdolman] (Andrew Dolman), https://github.com/andrewpbray[@andrewpbray] (Andrew Bray), https://github.com/AndrewsOR[@AndrewsOR] (John Andrews), https://github.com/andycraig[@andycraig] (Andrew Craig), https://github.com/angela-li[@angela-li] (Angela Li), https://github.com/anjalisilva[@anjalisilva] (Anjali Silva), https://github.com/apomatix[@apomatix] (Brad Friedman), https://github.com/apreshill[@apreshill] (Alison Presmanes Hill), https://github.com/arashHaratian[@arashHaratian] (Arash), https://github.com/arilamstein[@arilamstein] (Ari Lamstein), https://github.com/arneschillert[@arneschillert] (Arne Schillert), https://github.com/arni-magnusson[@arni-magnusson] (Arni Magnusson), https://github.com/asadow[@asadow] (Adam Sadowski), https://github.com/ateucher[@ateucher] (Andy Teucher), https://github.com/avisser[@avisser] (Andy Visser), https://github.com/ayormark[@ayormark] (Adam Yormark), https://github.com/azzaea[@azzaea] (Azza Ahmed), https://github.com/batpigandme[@batpigandme] (Mara Averick), https://github.com/bclipp[@bclipp] (Brian L), https://github.com/beevabeeva[@beevabeeva], https://github.com/behrman[@behrman] (Bill Behrman), https://github.com/benmarwick[@benmarwick] (Ben Marwick), https://github.com/BernhardKonrad[@BernhardKonrad] (Bernhard Konrad), https://github.com/bgreenwell[@bgreenwell] (Brandon Greenwell), https://github.com/Bisaloo[@Bisaloo] (Hugo Gruson), https://github.com/bklamer[@bklamer] (Brett Klamer), https://github.com/bm5tev3[@bm5tev3], https://github.com/bms63[@bms63] (Ben Straub), https://github.com/bpbond[@bpbond] (Ben Bond-Lamberty), https://github.com/bquast[@bquast] (Bastiaan Quast), https://github.com/Br-Johnson[@Br-Johnson] (Brett Johnson), https://github.com/brews[@brews] (Brewster Malevich), https://github.com/brianrice2[@brianrice2] (Brian Rice), https://github.com/brry[@brry] (Berry Boessenkool), https://github.com/btruel[@btruel], https://github.com/calligross[@calligross] (Calli), https://github.com/carldotac[@carldotac] (Carl Lieberman), https://github.com/carloscinelli[@carloscinelli] (Carlos Cinelli), https://github.com/CDCookJr[@CDCookJr], https://github.com/cderv[@cderv] (Christophe Dervieux), https://github.com/chambm[@chambm] (Matt Chambers), https://github.com/charliejhadley[@charliejhadley] (Charlie Joey Hadley), https://github.com/chezou[@chezou] (Aki Ariga), https://github.com/chsafouane[@chsafouane] (Safouane Chergui), https://github.com/clente[@clente] (Caio Lente), https://github.com/cmarmstrong[@cmarmstrong], https://github.com/cooknl[@cooknl] (CAPN), https://github.com/CorradoLanera[@CorradoLanera] (Corrado Lanera), https://github.com/craigcitro[@craigcitro] (Craig Citro), https://github.com/crtahlin[@crtahlin] (Crt Ahlin), https://github.com/daattali[@daattali] (Dean Attali), https://github.com/danhalligan[@danhalligan] (Dan Halligan), https://github.com/daroczig[@daroczig] (Gergely Daróczi), https://github.com/datarttu[@datarttu] (Arttu Kosonen), https://github.com/davidkane9[@davidkane9] (David Kane), https://github.com/DavisVaughan[@DavisVaughan] (Davis Vaughan), https://github.com/deanbodenham[@deanbodenham], https://github.com/dfalbel[@dfalbel] (Daniel Falbel), https://github.com/dgrtwo[@dgrtwo] (David Robinson), https://github.com/dholstius[@dholstius] (David Holstius), https://github.com/DickStartz[@DickStartz], https://github.com/dkgaraujo[@dkgaraujo] (Douglas K. G. Araujo), https://github.com/dlukes[@dlukes] (David Lukes), https://github.com/DOH-PXC5303[@DOH-PXC5303] (Philip Crain), https://github.com/dongzhuoer[@dongzhuoer] (Zhuoer Dong), https://github.com/DougManuel[@DougManuel] (Doug Manuel), https://github.com/dpprdan[@dpprdan] (Daniel Possenriede), https://github.com/dracodoc[@dracodoc] (dracodoc), https://github.com/drag05[@drag05] (Dragos Bandur), https://github.com/drvinceknight[@drvinceknight] (Vince Knight), https://github.com/dryzliang[@dryzliang], https://github.com/dyavorsky[@dyavorsky] (Dan Yavorsky), https://github.com/e-pet[@e-pet], https://github.com/earino[@earino] (E. Ariño de la Rubia), https://github.com/echelleburns[@echelleburns], https://github.com/eeholmes[@eeholmes] (Eli Holmes), https://github.com/eipi10[@eipi10] (Joel Schwartz), https://github.com/ekbrown[@ekbrown] (Earl Brown), https://github.com/EllaKaye[@EllaKaye] (Ella Kaye), https://github.com/EmilHvitfeldt[@EmilHvitfeldt] (Emil Hvitfeldt), https://github.com/eogoodwin[@eogoodwin], https://github.com/erictleung[@erictleung] (Eric Leung), https://github.com/erikerhardt[@erikerhardt] (Erik Erhardt), https://github.com/espinielli[@espinielli] (Enrico Spinielli), https://github.com/ewan[@ewan] (Ewan Dunbar), https://github.com/fbertran[@fbertran] (Frederic Bertrand), https://github.com/federicomarini[@federicomarini] (Federico Marini), https://github.com/fenguoerbian[@fenguoerbian] (Chao Cheng), https://github.com/fkohrt[@fkohrt] (Florian Kohrt), https://github.com/florisvdh[@florisvdh] (Floris Vanderhaeghe), https://github.com/floswald[@floswald] (Florian Oswald), https://github.com/franrodalg[@franrodalg] (Francisco Rodríguez-Algarra), https://github.com/franticspider[@franticspider] (Simon Hickinbotham), https://github.com/frycast[@frycast] (Daniel Vidali Fryer), https://github.com/fsavje[@fsavje] (Fredrik Sävje), https://github.com/gajusmiknaitis[@gajusmiknaitis], https://github.com/gcpoole[@gcpoole] (Geoffrey Poole), https://github.com/geanders[@geanders] (Brooke Anderson), https://github.com/georoen[@georoen] (Jee Roen), https://github.com/GerardTromp[@GerardTromp] (Gerard Tromp), https://github.com/GillesSanMartin[@GillesSanMartin] (Gilles San Martin), https://github.com/gmaubach[@gmaubach] (Georg Maubach), https://github.com/gonzalezgouveia[@gonzalezgouveia] (Rafael Gonzalez Gouveia), https://github.com/gregmacfarlane[@gregmacfarlane] (Greg Macfarlane), https://github.com/gregrs-uk[@gregrs-uk] (Greg), https://github.com/grst[@grst] (Gregor Sturm), https://github.com/gsrohde[@gsrohde] (Scott Rohde), https://github.com/guru809[@guru809], https://github.com/gustavdelius[@gustavdelius] (Gustav W Delius), https://github.com/haibin[@haibin] (Liu Haibin), https://github.com/hanneoberman[@hanneoberman] (Hanne Oberman), https://github.com/harrismcgehee[@harrismcgehee] (Harris McGehee), https://github.com/havenl[@havenl] (Haven Liu), https://github.com/hcyvan[@hcyvan] (程一航), https://github.com/hdraisma[@hdraisma] (Harmen), https://github.com/hedderik[@hedderik] (Hedderik van Rijn), https://github.com/heists[@heists] ((ꐦ°᷄д°)ა), https://github.com/helske[@helske] (Jouni Helske), https://github.com/henningte[@henningte] (Henning Teickner), https://github.com/HenrikBengtsson[@HenrikBengtsson] (Henrik Bengtsson), https://github.com/heogden[@heogden] (Helen Ogden), https://github.com/hfrick[@hfrick] (Hannah Frick), https://github.com/Holzhauer[@Holzhauer] (Sascha Holzhauer), https://github.com/howardbaek[@howardbaek] (Howard Baek), https://github.com/howbuildingsfail[@howbuildingsfail] (How Buildings Fail), https://github.com/hq9000[@hq9000] (Sergey Grechin), https://github.com/hrbrmstr[@hrbrmstr] (boB Rudis), https://github.com/iangow[@iangow] (Ian Gow), https://github.com/iargent[@iargent], https://github.com/idmn[@idmn] (Iaroslav Domin), https://github.com/ijlyttle[@ijlyttle] (Ian Lyttle), https://github.com/imchoyoung[@imchoyoung] (Choyoung Im), https://github.com/InfiniteCuriosity[@InfiniteCuriosity] (Russ Conte), https://github.com/ionut-stefanb[@ionut-stefanb] (Ionut Stefan-Birdea), https://github.com/Ironholds[@Ironholds] (Os Keyes), https://github.com/ismayc[@ismayc] (Chester Ismay), https://github.com/isomorphisms[@isomorphisms] (i), https://github.com/jackwasey[@jackwasey] (Jack Wasey), https://github.com/jacobbien[@jacobbien] (Jacob Bien), https://github.com/jadeynryan[@jadeynryan] (Jadey Ryan), https://github.com/jameelalsalam[@jameelalsalam] (Jameel Alsalam), https://github.com/jameslairdsmith[@jameslairdsmith] (James Laird-Smith), https://github.com/janzzon[@janzzon] (Stefan Jansson), https://github.com/JayCeBB[@JayCeBB], https://github.com/jcainey[@jcainey] (Joe Cainey), https://github.com/jdblischak[@jdblischak] (John Blischak), https://github.com/jedwards24[@jedwards24] (James Edwards), https://github.com/jemus42[@jemus42] (Lukas Burk), https://github.com/jenniferthompson[@jenniferthompson] (Jennifer Thompson), https://github.com/jeremycg[@jeremycg] (Jeremy Gray), https://github.com/jgarthur[@jgarthur] (Joey Arthur), https://github.com/jimhester[@jimhester] (Jim Hester), https://github.com/jimr1603[@jimr1603] (James Riley), https://github.com/jjesusfilho[@jjesusfilho] (José de Jesus Filho), https://github.com/jkeirstead[@jkeirstead] (James Keirstead), https://github.com/jmarca[@jmarca] (James Marca), https://github.com/jmarshallnz[@jmarshallnz] (Jonathan Marshall), https://github.com/joethorley[@joethorley] (Joe Thorley), https://github.com/johnbaums[@johnbaums] (John), https://github.com/jolars[@jolars] (Johan Larsson), https://github.com/jonthegeek[@jonthegeek] (Jon Harmon), https://github.com/jowalski[@jowalski] (John Kowalski), https://github.com/jpinelo[@jpinelo] (Joao Pinelo Silva), https://github.com/jrdnbradford[@jrdnbradford] (Jordan), https://github.com/jthomasmock[@jthomasmock] (Tom Mock), https://github.com/julian-urbano[@julian-urbano] (Julián Urbano), https://github.com/jwpestrak[@jwpestrak], https://github.com/jzadra[@jzadra] (Jonathan Zadra), https://github.com/jzhaoo[@jzhaoo] (Joanna Zhao), https://github.com/kaetschap[@kaetschap] (Sonja), https://github.com/karthik[@karthik] (Karthik Ram), https://github.com/KasperThystrup[@KasperThystrup] (Kasper Thystrup Karstensen), https://github.com/KatherineCox[@KatherineCox], https://github.com/katrinleinweber[@katrinleinweber] (Katrin Leinweber), https://github.com/kbroman[@kbroman] (Karl Broman), https://github.com/kekecib[@kekecib] (Ibrahim Kekec), https://github.com/KellenBrosnahan[@KellenBrosnahan], https://github.com/kendonB[@kendonB] (Kendon Bell), https://github.com/kevinushey[@kevinushey] (Kevin Ushey), https://github.com/kikapp[@kikapp] (Kristopher Kapphahn), https://github.com/KirkDSL[@KirkDSL], https://github.com/KJByron[@KJByron] (Karen J. Byron), https://github.com/klmr[@klmr] (Konrad Rudolph), https://github.com/KoderKow[@KoderKow] (Kyle Harris), https://github.com/kokbent[@kokbent] (Ben Toh), https://github.com/kongdd[@kongdd] (Dongdong Kong), https://github.com/krlmlr[@krlmlr] (Kirill Müller), https://github.com/kwenzig[@kwenzig] (Knut Wenzig), https://github.com/kwstat[@kwstat] (Kevin Wright), https://github.com/kylelundstedt[@kylelundstedt] (Kyle G. Lundstedt), https://github.com/lancelote[@lancelote] (Pavel Karateev), https://github.com/lbergelson[@lbergelson] (Louis Bergelson), https://github.com/LechMadeyski[@LechMadeyski] (Lech Madeyski), https://github.com/Lenostatos[@Lenostatos] (Leon), https://github.com/lindbrook[@lindbrook], https://github.com/lionel-[@lionel-] (Lionel Henry), https://github.com/LluisRamon[@LluisRamon] (Lluís Ramon), https://github.com/lorenzwalthert[@lorenzwalthert] (Lorenz Walthert), https://github.com/lwjohnst86[@lwjohnst86] (Luke W Johnston), https://github.com/maelle[@maelle] (Maëlle Salmon), https://github.com/maiermarco[@maiermarco], https://github.com/maislind[@maislind] (David M), https://github.com/majr-red[@majr-red] (Matthew Roberts), https://github.com/malcolmbarrett[@malcolmbarrett] (Malcolm Barrett), https://github.com/malexan[@malexan] (Alexander Matrunich), https://github.com/manuelreif[@manuelreif] (Manuel Reif), https://github.com/MarceloRTonon[@MarceloRTonon] (Marcelo Tonon), https://github.com/mariacuellar[@mariacuellar] (Maria Cuellar), https://github.com/markdly[@markdly] (Mark Dulhunty), https://github.com/Marlin-Na[@Marlin-Na] (Marlin), https://github.com/martin-mfg[@martin-mfg], https://github.com/matanhakim[@matanhakim] (Matan Hakim), https://github.com/matdoering[@matdoering], https://github.com/matinang[@matinang] (Matina Angelopoulou), https://github.com/mattflor[@mattflor] (Matthias Flor), https://github.com/maurolepore[@maurolepore] (Mauro Lepore), https://github.com/maxheld83[@maxheld83] (Max Held), https://github.com/mayankvanani[@mayankvanani] (Mayank Vanani), https://github.com/mbjones[@mbjones] (Matt Jones), https://github.com/mccarthy-m-g[@mccarthy-m-g] (Michael McCarthy), https://github.com/mdequeljoe[@mdequeljoe] (Matthew de Queljoe), https://github.com/mdsumner[@mdsumner] (Michael Sumner), https://github.com/michaelboerman[@michaelboerman] (Michael Boerman), https://github.com/MichaelChirico[@MichaelChirico] (Michael Chirico), https://github.com/michaelmikebuckley[@michaelmikebuckley] (Michael Buckley), https://github.com/michaelweylandt[@michaelweylandt] (Michael Weylandt), https://github.com/miguelmorin[@miguelmorin], https://github.com/MikeJohnPage[@MikeJohnPage], https://github.com/mikelnrd[@mikelnrd] (Michael Leonard), https://github.com/mikelove[@mikelove] (Mike Love), https://github.com/mikemc[@mikemc] (Michael McLaren), https://github.com/MilesMcBain[@MilesMcBain] (Miles McBain), https://github.com/mjkanji[@mjkanji] (Muhammad Jarir Kanji), https://github.com/mkuehn10[@mkuehn10] (Michael Kuehn), https://github.com/mllg[@mllg] (Michel Lang), https://github.com/mohamed-180[@mohamed-180] (Mohamed El-Desokey), https://github.com/moodymudskipper[@moodymudskipper] (Antoine Fabri), https://github.com/Moohan[@Moohan] (James McMahon), https://github.com/MrAE[@MrAE] (Jesse Leigh Patsolic), https://github.com/mrcaseb[@mrcaseb], https://github.com/ms609[@ms609] (Martin R. Smith), https://github.com/mskyttner[@mskyttner] (Markus Skyttner), https://github.com/MWilson92[@MWilson92] (Matthew Wilson), https://github.com/myoung3[@myoung3], https://github.com/nachti[@nachti] (Gerhard Nachtmann), https://github.com/nanxstats[@nanxstats] (Nan Xiao), https://github.com/nareal[@nareal] (Nelson Areal), https://github.com/nattalides[@nattalides], https://github.com/ncarchedi[@ncarchedi] (Nick Carchedi), https://github.com/ndphillips[@ndphillips] (Nathaniel Phillips), https://github.com/nick-youngblut[@nick-youngblut] (Nick Youngblut), https://github.com/njtierney[@njtierney] (Nicholas Tierney), https://github.com/nsheff[@nsheff] (Nathan Sheffield), https://github.com/osorensen[@osorensen] (Øystein Sørensen), https://github.com/PabRod[@PabRod] (Pablo Rodríguez-Sánchez), https://github.com/paternogbc[@paternogbc] (Gustavo Brant Paterno), https://github.com/paulrougieux[@paulrougieux] (Paul Rougieux), https://github.com/pdwaggoner[@pdwaggoner] (Philip Waggoner), https://github.com/pearsonca[@pearsonca] (Carl A. B. Pearson), https://github.com/perryjer1[@perryjer1] (Jeremiah), https://github.com/petermeissner[@petermeissner] (Peter Meissner), https://github.com/petersonR[@petersonR] (Ryan Peterson), https://github.com/petzi53[@petzi53] (Peter Baumgartner), https://github.com/PhilipPallmann[@PhilipPallmann] (Philip Pallmann), https://github.com/philliplab[@philliplab] (Phillip Labuschagne), https://github.com/phonixor[@phonixor] (Gerrit-Jan Schutten), https://github.com/pkimes[@pkimes] (Patrick Kimes), https://github.com/pnovoa[@pnovoa] (Pavel Novoa), https://github.com/ppanko[@ppanko] (Pavel Panko), https://github.com/pritesh-shrivastava[@pritesh-shrivastava] (Pritesh Shrivastava), https://github.com/PrzeChoj[@PrzeChoj] (PrzeChoj), https://github.com/PursuitOfDataScience[@PursuitOfDataScience] (Y. Yu), https://github.com/pwaeckerle[@pwaeckerle], https://github.com/raerickson[@raerickson] (Richard Erickson), https://github.com/ramiromagno[@ramiromagno] (Ramiro Magno), https://github.com/ras44[@ras44], https://github.com/rbirkelbach[@rbirkelbach] (Robert Birkelbach), https://github.com/rcorty[@rcorty] (Robert W. Corty), https://github.com/rdiaz02[@rdiaz02] (Ramon Diaz-Uriarte), https://github.com/realAkhmed[@realAkhmed] (Akhmed Umyarov), https://github.com/reikookamoto[@reikookamoto] (Reiko Okamoto), https://github.com/renkun-ken[@renkun-ken] (Kun Ren), https://github.com/retowyss[@retowyss] (Reto Wyss), https://github.com/revodavid[@revodavid] (David Smith), https://github.com/rgknight[@rgknight] (Ryan Knight), https://github.com/rhgof[@rhgof] (Richard), https://github.com/rmar073[@rmar073], https://github.com/rmflight[@rmflight] (Robert M Flight), https://github.com/rmsharp[@rmsharp] (R. Mark Sharp), https://github.com/rnuske[@rnuske] (Robert Nuske), https://github.com/robertzk[@robertzk] (Robert Krzyzanowski), https://github.com/Robinlovelace[@Robinlovelace] (Robin Lovelace), https://github.com/robiRagan[@robiRagan] (Robi Ragan), https://github.com/Robsteranium[@Robsteranium] (Robin Gower), https://github.com/romanzenka[@romanzenka] (Roman Zenka), https://github.com/royfrancis[@royfrancis] (Roy Francis), https://github.com/rpruim[@rpruim] (Randall Pruim), https://github.com/rrunner[@rrunner], https://github.com/rsangole[@rsangole] (Rahul), https://github.com/ryanatanner[@ryanatanner] (Ryan), https://github.com/salim-b[@salim-b] (Salim B), https://github.com/SamEdwardes[@SamEdwardes] (Sam Edwardes), https://github.com/SangdonLim[@SangdonLim] (Sangdon Lim), https://github.com/sathishsrinivasank[@sathishsrinivasank] (Sathish), https://github.com/sbgraves237[@sbgraves237], https://github.com/schifferl[@schifferl] (Lucas Schiffer), https://github.com/scw[@scw] (Shaun Walbridge), https://github.com/sdarodrigues[@sdarodrigues] (Sabrina Rodrigues), https://github.com/sebffischer[@sebffischer] (Sebastian Fischer), https://github.com/serghiou[@serghiou] (Stylianos Serghiou), https://github.com/setoyama60jp[@setoyama60jp], https://github.com/sfirke[@sfirke] (Sam Firke), https://github.com/shannonpileggi[@shannonpileggi] (Shannon Pileggi), https://github.com/Shelmith-Kariuki[@Shelmith-Kariuki] (Shel), https://github.com/SheridanLGrant[@SheridanLGrant] (Sheridan Grant), https://github.com/shntnu[@shntnu] (Shantanu Singh), https://github.com/sibusiso16[@sibusiso16] (S’busiso Mkhondwane), https://github.com/simdadim[@simdadim] (Simen Buodd), https://github.com/SimonPBiggs[@SimonPBiggs] (SPB), https://github.com/simonthelwall[@simonthelwall] (Simon Thelwall), https://github.com/SimonYansenZhao[@SimonYansenZhao] (Simon He Zhao), https://github.com/singmann[@singmann] (Henrik Singmann), https://github.com/Skenvy[@Skenvy] (Nathan Levett), https://github.com/Smudgerville[@Smudgerville] (Richard M. Smith), https://github.com/sn248[@sn248] (Satyaprakash Nayak), https://github.com/sowla[@sowla] (Praer (Suthira) Owlarn), https://github.com/srushe[@srushe] (Stephen Rushe), https://github.com/statnmap[@statnmap] (Sébastien Rochette), https://github.com/steenharsted[@steenharsted] (Steen Harsted), https://github.com/stefaneng[@stefaneng] (Stefan Eng), https://github.com/stefanherzog[@stefanherzog] (Stefan Herzog), https://github.com/stephen-frank[@stephen-frank] (Stephen Frank), https://github.com/stephenll[@stephenll] (Stephen Lienhard), https://github.com/stephenturner[@stephenturner] (Stephen Turner), https://github.com/stevenprimeaux[@stevenprimeaux] (Steven Primeaux), https://github.com/stevensbr[@stevensbr], https://github.com/stewid[@stewid] (Stefan Widgren), https://github.com/sunbeomk[@sunbeomk] (Sunbeom Kwon), https://github.com/superdesolator[@superdesolator] (Po Su), https://github.com/syclik[@syclik] (Daniel Lee), https://github.com/symbolrush[@symbolrush] (Adrian Stämpfli-Schmid), https://github.com/taekyunk[@taekyunk] (Taekyun Kim), https://github.com/talgalili[@talgalili] (Tal Galili), https://github.com/tanho63[@tanho63] (Tan Ho), https://github.com/tbrugz[@tbrugz] (Telmo Brugnara), https://github.com/thisisnic[@thisisnic] (Nic Crane), https://github.com/TimHesterberg[@TimHesterberg] (Tim Hesterberg), https://github.com/titaniumtroop[@titaniumtroop] (Nathan), https://github.com/tjebo[@tjebo], https://github.com/tklebel[@tklebel] (Thomas Klebel), https://github.com/tmstauss[@tmstauss] (Tanner Stauss), https://github.com/tonybreyal[@tonybreyal] (Tony Breyal), https://github.com/tonyfischetti[@tonyfischetti] (Tony Fischetti), https://github.com/TonyLadson[@TonyLadson] (Tony Ladson), https://github.com/trickytank[@trickytank] (Rick Tankard), https://github.com/TroyVan[@TroyVan], https://github.com/uribo[@uribo] (Shinya Uryu), https://github.com/urmils[@urmils], https://github.com/valeonte[@valeonte], https://github.com/vgonzenbach[@vgonzenbach] (Virgilio Gonzenbach), https://github.com/vladpetyuk[@vladpetyuk] (Vlad Petyuk), https://github.com/vnijs[@vnijs] (Vincent Nijs), https://github.com/vspinu[@vspinu] (Vitalie Spinu), https://github.com/wcarlsen[@wcarlsen] (Willi Carlsen), https://github.com/wch[@wch] (Winston Chang), https://github.com/wenjie2wang[@wenjie2wang] (Wenjie Wang), https://github.com/werkstattcodes[@werkstattcodes], https://github.com/wiaidp[@wiaidp], https://github.com/wibeasley[@wibeasley] (Will Beasley), https://github.com/wilkinson[@wilkinson] (Sean Wilkinson), https://github.com/williamlief[@williamlief] (Lief Esbenshade), https://github.com/winterschlaefer[@winterschlaefer] (Christof Winter), https://github.com/wlamnz[@wlamnz] (William Lam), https://github.com/wrathematics[@wrathematics] (Drew Schmidt), https://github.com/XiangyunHuang[@XiangyunHuang] (Xiangyun Huang), https://github.com/xiaochi-liu[@xiaochi-liu] (Xiaochi), https://github.com/XiaoqiLu[@XiaoqiLu] (Xiaoqi Lu), https://github.com/xiaosongz[@xiaosongz] (Xiaosong Zhang), https://github.com/yihui[@yihui] (Yihui Xie), https://github.com/ynsec37[@ynsec37], https://github.com/yonicd[@yonicd], https://github.com/ysdgroot[@ysdgroot], https://github.com/yui-knk[@yui-knk] (Yuichiro Kaneko), https://github.com/Zedseayou[@Zedseayou] (Calum You), https://github.com/zeehio[@zeehio] (Sergio Oller), https://github.com/zekiakyol[@zekiakyol] (Zeki Akyol), https://github.com/zenggyu[@zenggyu] (Guangyu Zeng), https://github.com/zhaoy[@zhaoy], https://github.com/zhilongjia[@zhilongjia] (Zhilong), https://github.com/zhixunwang[@zhixunwang], https://github.com/zkamvar[@zkamvar] (Zhian N. Kamvar), https://github.com/zouter[@zouter] (Wouter Saelens).

== Conventions

Throughout this book, we write `fun()` to refer to functions, `var` to refer to variables and function arguments, and `path/` for paths.

Larger code blocks intermingle input and output. Output is commented so that if you have an electronic version of the book, e.g., https://r-pkgs.org, you can easily copy and paste examples into R. Output comments look like `#++>++` to distinguish them from regular comments.

== Colophon

This book was authored using https://quarto.org[Quarto] inside https://www.rstudio.com/products/rstudio/[RStudio]. The https://r-pkgs.org[website] is hosted with https://www.netlify.com[Netlify], and automatically updated after every commit by GitHub actions. The complete source is available from https://github.com/hadley/r-pkgs[GitHub].

This version of the book was built with:

[source,r,cell-code]
----
library(devtools)
#> Loading required package: usethis
library(roxygen2)
library(testthat)
#> 
#> Attaching package: 'testthat'
#> The following object is masked from 'package:devtools':
#> 
#>     test_file
#> The following objects are masked from 'package:readr':
#> 
#>     edition_get, local_edition
devtools::session_info()
#> ─ Session info ───────────────────────────────────────────────────
#>  setting  value
#>  version  R version 4.5.2 (2025-10-31)
#>  os       Ubuntu 24.04.3 LTS
#>  system   x86_64, linux-gnu
#>  ui       X11
#>  language (EN)
#>  collate  C.UTF-8
#>  ctype    C.UTF-8
#>  tz       UTC
#>  date     2026-01-08
#>  pandoc   3.1.3 @ /usr/bin/ (via rmarkdown)
#>  quarto   1.8.26 @ /usr/local/bin/quarto
#> 
#> ─ Packages ───────────────────────────────────────────────────────
#>  package      * version date (UTC) lib source
#>  bit            4.6.0   2025-03-06 [1] RSPM
#>  bit64          4.6.0-1 2025-01-16 [1] RSPM
#>  brio           1.1.5   2024-04-24 [1] RSPM
#>  cachem         1.1.0   2024-05-16 [1] RSPM
#>  cli            3.6.5   2025-04-23 [1] RSPM
#>  crayon         1.5.3   2024-06-20 [1] RSPM
#>  devtools     * 2.4.6   2025-10-03 [1] RSPM
#>  digest         0.6.39  2025-11-19 [1] RSPM
#>  dplyr        * 1.1.4   2023-11-17 [1] RSPM
#>  ellipsis       0.3.2   2021-04-29 [1] RSPM
#>  evaluate       1.0.5   2025-08-27 [1] RSPM
#>  farver         2.1.2   2024-05-13 [1] RSPM
#>  fastmap        1.2.0   2024-05-15 [1] RSPM
#>  forcats      * 1.0.1   2025-09-25 [1] RSPM
#>  fs             1.6.6   2025-04-12 [1] RSPM
#>  generics       0.1.4   2025-05-09 [1] RSPM
#>  ggplot2      * 4.0.1   2025-11-14 [1] RSPM
#>  glue           1.8.0   2024-09-30 [1] RSPM
#>  gtable         0.3.6   2024-10-25 [1] RSPM
#>  hms            1.1.4   2025-10-17 [1] RSPM
#>  htmltools      0.5.9   2025-12-04 [1] RSPM
#>  jsonlite       2.0.0   2025-03-27 [1] RSPM
#>  knitr          1.51    2025-12-20 [1] RSPM
#>  lifecycle      1.0.4   2023-11-07 [1] RSPM
#>  lubridate    * 1.9.4   2024-12-08 [1] RSPM
#>  magrittr       2.0.4   2025-09-12 [1] RSPM
#>  memoise        2.0.1   2021-11-26 [1] RSPM
#>  otel           0.2.0   2025-08-29 [1] RSPM
#>  pillar         1.11.1  2025-09-17 [1] RSPM
#>  pkgbuild       1.4.8   2025-05-26 [1] RSPM
#>  pkgconfig      2.0.3   2019-09-22 [1] RSPM
#>  pkgload        1.4.1   2025-09-23 [1] RSPM
#>  purrr        * 1.2.0   2025-11-04 [1] RSPM
#>  R6             2.6.1   2025-02-15 [1] RSPM
#>  RColorBrewer   1.1-3   2022-04-03 [1] RSPM
#>  readr        * 2.1.6   2025-11-14 [1] RSPM
#>  remotes        2.5.0   2024-03-17 [1] RSPM
#>  rlang          1.1.6   2025-04-11 [1] RSPM
#>  rmarkdown      2.30    2025-09-28 [1] RSPM
#>  roxygen2     * 7.3.3   2025-09-03 [1] RSPM
#>  S7             0.2.1   2025-11-14 [1] RSPM
#>  scales         1.4.0   2025-04-24 [1] RSPM
#>  sessioninfo    1.2.3   2025-02-05 [1] RSPM
#>  stringi        1.8.7   2025-03-27 [1] RSPM
#>  stringr      * 1.6.0   2025-11-04 [1] RSPM
#>  testthat     * 3.3.1   2025-11-25 [1] RSPM
#>  tibble       * 3.3.0   2025-06-08 [1] RSPM
#>  tidyr        * 1.3.2   2025-12-19 [1] RSPM
#>  tidyselect     1.2.1   2024-03-11 [1] RSPM
#>  tidyverse    * 2.0.0   2023-02-22 [1] RSPM
#>  timechange     0.3.0   2024-01-18 [1] RSPM
#>  tzdb           0.5.0   2025-03-15 [1] RSPM
#>  usethis      * 3.2.1   2025-09-06 [1] RSPM
#>  vctrs          0.6.5   2023-12-01 [1] RSPM
#>  vroom          1.6.7   2025-11-28 [1] RSPM
#>  withr          3.0.2   2024-10-28 [1] RSPM
#>  xfun           0.55    2025-12-16 [1] RSPM
#>  xml2           1.5.1   2025-12-01 [1] RSPM
#> 
#>  [1] /home/runner/work/_temp/Library
#>  [2] /opt/R/4.5.2/lib/R/site-library
#>  [3] /opt/R/4.5.2/lib/R/library
#>  * ── Packages attached to the search path.
#> 
#> ──────────────────────────────────────────────────────────────────
----
