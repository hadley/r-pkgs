<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.35">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>R Packages (2e) - 1&nbsp; Introduction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Whole-game.html" rel="next">
<link href="./Preface.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script defer="" data-domain="r-pkgs.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R Packages (2e)</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/hadley/r-pkgs/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Welcome!</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Preface.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Getting started</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Introduction.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Whole-game.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The whole game</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Setup.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">System setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Structure.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Package structure and state</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Workflow101.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fundamental development workflows</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Package-within.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">The package within</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Package components</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Code.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">R code</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./misc.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Other components</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Package metadata</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Metadata.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title"><code>DESCRIPTION</code> and <code>NAMESPACE</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dependencies.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Dependencies: What does your package need?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./license.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Licensing</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Testing</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-basics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Testing basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-design.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Designing your test suite</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-advanced.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Advanced testing techniques</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">Documentation</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./man.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Function documentation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vignettes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Vignettes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./other-markdown.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Other markdown files</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./website.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Website</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">Maintenance and distribution</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./check.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title"><code>R CMD check</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./continuous-integration.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Continuous integration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./release.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Releasing to CRAN</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lifecycle.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Lifecycle</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">References</span></a>
  </div>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#intro-phil" id="toc-intro-phil" class="nav-link active" data-scroll-target="#intro-phil"> <span class="header-section-number">1.1</span> Philosophy</a></li>
  <li><a href="#intro-outline" id="toc-intro-outline" class="nav-link" data-scroll-target="#intro-outline"> <span class="header-section-number">1.2</span> In this book</a></li>
  <li><a href="#you-wont-learn" id="toc-you-wont-learn" class="nav-link" data-scroll-target="#you-wont-learn"> <span class="header-section-number">1.3</span> What you won’t learn</a></li>
  <li><a href="#intro-ack" id="toc-intro-ack" class="nav-link" data-scroll-target="#intro-ack"> <span class="header-section-number">1.4</span> Acknowledgments</a></li>
  <li><a href="#intro-conventions" id="toc-intro-conventions" class="nav-link" data-scroll-target="#intro-conventions"> <span class="header-section-number">1.5</span> Conventions</a></li>
  <li><a href="#intro-colophon" id="toc-intro-colophon" class="nav-link" data-scroll-target="#intro-colophon"> <span class="header-section-number">1.6</span> Colophon</a></li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/hadley/r-pkgs/edit/main/Introduction.Rmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/hadley/r-pkgs/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="intro" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header><div class="cell">

</div>
<p>In R, the fundamental unit of shareable code is the package. A package bundles together code, data, documentation, and tests, and is easy to share with others. As of June 2022, there were over 18,000 packages available on the <strong>C</strong>omprehensive <strong>R</strong> <strong>A</strong>rchive <strong>N</strong>etwork, or CRAN, the public clearing house for R packages. This huge variety of packages is one of the reasons that R is so successful: the chances are that someone has already solved a problem that you’re working on, and you can benefit from their work by downloading their package.</p>
<p>If you’re reading this book, you already know how to work with packages in the following ways:</p>
<ul>
<li>You install them from CRAN with <code>install.packages("x")</code>.</li>
<li>You use them in R with <code><a href="https://rdrr.io/r/base/library.html">library("x")</a></code> or <code><a href="https://rdrr.io/r/base/library.html">library(x)</a></code>.</li>
<li>You get help on them with <code>package?x</code> and <code><a href="https://rdrr.io/pkg/x/man">help(package = "x")</a></code>.</li>
</ul>
<p>The goal of this book is to teach you how to develop packages so that you can write your own, not just use other people’s. Why write a package? One compelling reason is that you have code that you want to share with others. Bundling your code into a package makes it easy for other people to use it, because like you, they already know how to use packages. If your code is in a package, any R user can easily download it, install it and learn how to use it.</p>
<p>But packages are useful even if you never share your code. As Hilary Parker says in her <a href="https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/">introduction to packages</a>: “Seriously, it doesn’t have to be about sharing your code (although that is an added benefit!). It is about saving yourself time.” Organising code in a package makes your life easier because packages come with conventions. For example, you put R code in <code>R/</code>, you put tests in <code>tests/</code> and you put data in <code>data/</code>. These conventions are helpful because:</p>
<ul>
<li><p>They save time — you don’t need to think about the best way to organise a project, you can just follow a template.</p></li>
<li><p>Standardised conventions lead to standardised tools — if you buy into R’s package conventions, you get many tools for free.</p></li>
</ul>
<p>It’s even possible to use packages to structure your data analyses (e.g., <span class="citation" data-cites="marwick2018-tas">Marwick, Boettiger, and Mullen (<a href="references.html#ref-marwick2018-tas" role="doc-biblioref">2018a</a>)</span> or <span class="citation" data-cites="marwick2018-peerj">Marwick, Boettiger, and Mullen (<a href="references.html#ref-marwick2018-peerj" role="doc-biblioref">2018b</a>)</span>), although we won’t delve deeply into that use case here.</p>
<section id="intro-phil" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="intro-phil">
<span class="header-section-number">1.1</span> Philosophy</h2>
<p>This book espouses our philosophy of package development: anything that can be automated, should be automated. Do as little as possible by hand. Do as much as possible with functions. The goal is to spend your time thinking about what you want your package to do rather than thinking about the minutiae of package structure.</p>
<p>This philosophy is realized primarily through the devtools package, which is the public face for a suite of R functions that automate common development tasks. The release of version 2.0.0 in October 2018 marked its internal restructuring into a set of more focused packages, with devtools becoming more of a meta-package. The usethis package is the sub-package you are most likely to interact with directly; we explain the devtools-usethis relationship in <a href="Setup.html#sec-setup-usage"><span>Section&nbsp;3.2</span></a>.</p>
<p>As always, the goal of devtools is to make package development as painless as possible. It encapsulates the best practices developed by Hadley Wickham, initially from his years as a prolific solo developer. More recently, he has assembled a team of developers at RStudio, who collectively look after hundreds of open source R packages, including those known as <a href="https://www.tidyverse.org">the tidyverse</a>. The reach of this team allows us to explore the space of all possible mistakes at an extraordinary scale. Fortunately, it also affords us the opportunity to reflect on both the successes and failures, in the company of expert and sympathetic colleagues. We try to develop practices that make life more enjoyable for both the maintainer and users of a package. The devtools meta-package is where these lessons are made concrete.</p>
<p>devtools works hand-in-hand with RStudio, which we believe is the best development environment for most R users. The main alternative is <a href="http://ess.r-project.org/">Emacs Speaks Statistics</a> (ESS), which is a rewarding environment if you’re willing to put in the time to learn Emacs and customise it to your needs. The history of ESS stretches back over 20 years (predating R!), but it’s still actively developed and many of the workflows described in this book are also available there. For those loyal to vim, we recommend the <a href="https://github.com/jalvesaq/Nvim-R">Nvim-R plugin</a>.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
RStudio
</div>
</div>
<div class="callout-body-container callout-body">
<p>Throughout the book, we highlight specific ways that RStudio can expedite your package development workflow, in specially formatted sections like this.</p>
</div>
</div>
<p>Together, devtools and RStudio insulate you from the low-level details of how packages are built. As you start to develop more packages, we highly recommend that you learn more about those details. The best resource for the official details of package development is always the official <a href="https://cran.r-project.org/doc/manuals/R-exts.html#Creating-R-packages">writing R extensions</a> manual<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. However, this manual can be hard to understand if you’re not already familiar with the basics of packages. It’s also exhaustive, covering every possible package component, rather than focusing on the most common and useful components, as this book does. Writing R extensions is a useful resource once you’ve mastered the basics and want to learn what’s going on under the hood.</p>
</section><section id="intro-outline" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="intro-outline">
<span class="header-section-number">1.2</span> In this book</h2>
<!-- TODO: proof read this section -->
<p>The first part of the book is all about giving you all the tools you need to start your package development journey and we highly recommend that you read it in order. We begin in <a href="Whole-game.html"><span>Chapter&nbsp;2</span></a> with a run through the complete development of a small package. It’s meant to paint the big picture and suggest a workflow, before we descend into the detailed treatment of the key components of an R package. Then in <a href="Setup.html"><span>Chapter&nbsp;3</span></a> you’ll learn how to prepare your system for package development, and in <a href="Structure.html"><span>Chapter&nbsp;4</span></a> you’ll learn the basic structure of a package and how that varies across different states. Next, in <a href="Workflow101.html"><span>Chapter&nbsp;5</span></a>, we’ll cover the core workflows that come up repeatedly for package developers. Then the first section of the book in <a href="Package-within.html"><span>Chapter&nbsp;6</span></a> with another case study, this time focusing on how you might convert a script to a package and discussing the challenges you’ll face along the way.</p>
<p>The remainder of the book is design to be read as needed. Pick and choose between the packages as you need them.</p>
<p>First we cover key package components: <a href="Code.html"><span>Chapter&nbsp;7</span></a> discusses where your code lives and how to organize it, <a href="data.html"><span>Chapter&nbsp;8</span></a> shows you how to include data in your package, and <a href="misc.html"><span>Chapter&nbsp;9</span></a> covers a few less important files and directories that need to be discussed somewhere.</p>
<p>Next we’ll dive into to the package metadata, starting with <code>DESCRIPTION</code> and <code>NAMESPACE</code> in <a href="Metadata.html"><span>Chapter&nbsp;10</span></a>. We’ll then go deep into dependencies in <a href="dependencies.html"><span>Chapter&nbsp;11</span></a>, discussing when and how to depend on another package. We’ll finish off this part with a look at licensing in <a href="license.html"><span>Chapter&nbsp;12</span></a>.</p>
<p>To ensure your package works as designed (and continues to work as you make changes), it’s essential to test your code, so the next three chapters cover the art and science of testing. <a href="testing-basics.html"><span>Chapter&nbsp;13</span></a> gets you started with the basics of testing with the testthat package. <a href="testing-design.html"><span>Chapter&nbsp;14</span></a> teaches you how to design and organise tests in the most effective way. Then we finish off our coverage of testing in <a href="testing-advanced.html"><span>Chapter&nbsp;15</span></a> which teaches you advanced skills to tackle the most challenging of cases.</p>
<p>If you want other people (including future-you!) to understand how to use the functions in your package, you’ll need to document them. <a href="man.html"><span>Chapter&nbsp;16</span></a> gets you started using roxygen to document the functions in your package. Function documentation is only helpful if you know what function to look up, so next in <a href="vignettes.html"><span>Chapter&nbsp;17</span></a> we’ll discuss vignettes, which help you document the package as a whole. We’ll finish up documentation with a discussion of other important markdown files like <code>README.md</code> and <code>NEWS.md</code> in <a href="other-markdown.html"><span>Chapter&nbsp;18</span></a>, and creating a package website with pkgdown in <a href="website.html"><span>Chapter&nbsp;19</span></a>.</p>
<p>The book concludes with a look at the release of your package to CRAN and the maintenance thereafter. <a href="check.html"><span>Chapter&nbsp;20</span></a> dives into <code>R CMD check</code>, the most important tool for verifying your package is free from major defects. You’ll then learn how you can run <code>R CMD check</code> automatically every time you change your package in <a href="continuous-integration.html"><span>Chapter&nbsp;21</span></a>. If you’re planning on submitting your package to CRAN, <a href="release.html"><span>Chapter&nbsp;22</span></a> shows you the process and gives you our tips and tricks to maximize the chances of success. We conclude with a discussion the post-release lifecycle in <a href="lifecycle.html"><span>Chapter&nbsp;23</span></a>.</p>
<p>This is a lot to learn, but don’t feel overwhelmed. Start with a minimal subset of useful features (e.g.&nbsp;just an <code>R/</code> directory!) and build up over time. To paraphrase the Zen monk Shunryu Suzuki: “Each package is perfect the way it is — and it can use a little improvement”.</p>
</section><section id="you-wont-learn" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="you-wont-learn">
<span class="header-section-number">1.3</span> What you won’t learn</h2>
<p>There are a few very important topics that you won’t learn about in this book:</p>
<!-- TODO: complete these comments -->
<ul>
<li><p>Git and GitHub: mastering a version control system is vital to easily collaborate with others, and is useful even for solo work because it allows you to easily undo mistakes. Learn from <a href="http://happygitwithr.com/" class="uri">http://happygitwithr.com/</a>.</p></li>
<li><p>Compiled code: R code is designed for human efficiency, not computer efficiency, so it’s useful to have a tool in your back pocket that allows you to write fast code. Learn more in <a href="https://adv-r.hadley.nz/rcpp.html" class="uri">https://adv-r.hadley.nz/rcpp.html</a>, or <a href="https://cpp11.r-lib.org" class="uri">https://cpp11.r-lib.org</a>.</p></li>
<li><p>Markdown and RMarkdown.</p></li>
</ul></section><section id="intro-ack" class="level2" data-number="1.4"><h2 data-number="1.4" class="anchored" data-anchor-id="intro-ack">
<span class="header-section-number">1.4</span> Acknowledgments</h2>
<p>Since the first edition of R Packages was published, the packages supporting the workflows described here have undergone extensive development. The original trio of devtools, roxygen2, and testthat has expanded to include the packages created by the “conscious uncoupling” of devtools, as described in <a href="Setup.html#sec-setup-usage"><span>Section&nbsp;3.2</span></a>. Most of these packages originate with Hadley Wickham (HW), because of their devtools roots. There are many other significant contributors, many of whom now serve as maintainers:</p>
<ul>
<li>devtools: HW, <a href="https://github.com/wch">Winston Chang</a>, <a href="https://github.com/jimhester">Jim Hester</a> (maintainer, &gt;= v1.13.5)</li>
<li>usethis: HW, <a href="https://github.com/jennybc">Jennifer Bryan</a> (maintainer &gt;= v1.5.0)</li>
<li>roxygen2: HW (maintainer), <a href="https://github.com/klutometis">Peter Danenburg</a>, <a href="https://github.com/mjaeugster">Manuel Eugster</a>
</li>
<li>testthat: HW (maintainer)</li>
<li>desc: <a href="https://github.com/gaborcsardi">Gábor Csárdi</a> (maintainer), <a href="https://github.com/krlmlr">Kirill Müller</a>, <a href="https://github.com/jimhester">Jim Hester</a>
</li>
<li>pkgbuild: HW, <a href="https://github.com/jimhester">Jim Hester</a> (maintainer)</li>
<li>pkgload: HW, <a href="https://github.com/jimhester">Jim Hester</a> (maintainer), <a href="https://github.com/wch">Winston Chang</a>
</li>
<li>rcmdcheck: <a href="https://github.com/gaborcsardi">Gábor Csárdi</a> (maintainer)</li>
<li>remotes: HW, <a href="https://github.com/jimhester">Jim Hester</a> (maintainer), <a href="https://github.com/gaborcsardi">Gábor Csárdi</a>, <a href="https://github.com/wch">Winston Chang</a>, <a href="https://github.com/mtmorgan">Martin Morgan</a>, <a href="https://github.com/dtenenba">Dan Tenenbaum</a>
</li>
<li>revdepcheck: HW, <a href="https://github.com/gaborcsardi">Gábor Csárdi</a> (maintainer)</li>
<li>sessioninfo: HW, <a href="https://github.com/gaborcsardi">Gábor Csárdi</a> (maintainer), <a href="https://github.com/wch">Winston Chang</a>, <a href="https://github.com/rmflight">Robert Flight</a>, <a href="https://github.com/krlmlr">Kirill Müller</a>, <a href="https://github.com/jimhester">Jim Hester</a>
</li>
</ul>
<p>This book and the R package development community benefit tremendously from experts who smooth over specific pain points:</p>
<ul>
<li>
<a href="https://github.com/kevinushey">Kevin Ushey</a>, <a href="https://github.com/jjallaire">JJ Allaire</a>, and <a href="http://dirk.eddelbuettel.com">Dirk Eddelbuettel</a> tirelessly answered all sorts of C, C++, and Rcpp questions.</li>
<li>
<a href="https://github.com/craigcitro">Craig Citro</a> wrote much of the initial code to facilitate using Travis-CI with R packages.</li>
<li>
<a href="https://github.com/jeroen">Jeroen Ooms</a> also helps to maintain R community infrastructure, such as the current R support for Travis-CI (along with Jim Hester), and the Windows toolchain.</li>
</ul>
<p><em>TODO: revisit rest of this section when 2nd edition nears completion. Currently applies to and worded for 1st edition.</em></p>
<p>Often the only way I learn how to do it the right way is by doing it the wrong way first. For suffering through many package development errors, I’d like to thank all the CRAN maintainers, especially Brian Ripley, Uwe Ligges and Kurt Hornik.</p>
<p>This book was <a href="https://github.com/hadley/r-pkgs/">written and revised in the open</a> and it is truly a community effort: many people read drafts, fix typos, suggest improvements, and contribute content. Without those contributors, the book wouldn’t be nearly as good as it is, and we are deeply grateful for their help.</p>
<p>A special thanks goes to Peter Li, who read the book from cover-to-cover and provided many fixes. I also deeply appreciate the time the reviewers (<a href="http://www.stats.uwo.ca/faculty/murdoch/">Duncan Murdoch</a>, <a href="http://karthik.io">Karthik Ram</a>, <a href="http://vitalie.spinu.info">Vitalie Spinu</a> and <a href="https://ramnathv.github.io">Ramnath Vaidyanathan</a>) spent reading the book and giving me thorough feedback.</p>
<p>Thanks go to all contributors who submitted improvements via github (in alphabetical order): <code>@aaronwolen</code>, <code>@adessy</code>, Adrien Todeschini, Andrea Cantieni, Andy Visser, <code>@apomatix</code>, Ben Bond-Lamberty, Ben Marwick, Brett K, Brett Klamer, <code>@contravariant</code>, Craig Citro, David Robinson, David Smith, <code>@davidkane9</code>, Dean Attali, Eduardo Ariño de la Rubia, Federico Marini, Gerhard Nachtmann, Gerrit-Jan Schutten, Hadley Wickham, Henrik Bengtsson, <code>@heogden</code>, Ian Gow, <code>@jacobbien</code>, Jennifer (Jenny) Bryan, Jim Hester, <code>@jmarshallnz</code>, Jo-Anne Tan, Joanna Zhao, Joe Cainey, John Blischak, <code>@jowalski</code>, Justin Alford, Karl Broman, Karthik Ram, Kevin Ushey, Kun Ren, <code>@kwenzig</code>, <code>@kylelundstedt</code>, <code>@lancelote</code>, Lech Madeyski, <code>@lindbrook</code>, <code>@maiermarco</code>, Manuel Reif, Michael Buckley, <code>@MikeLeonard</code>, Nick Carchedi, Oliver Keyes, Patrick Kimes, Paul Blischak, Peter Meissner, <code>@PeterDee</code>, Po Su, R. Mark Sharp, Richard M. Smith, <code>@rmar073</code>, <code>@rmsharp</code>, Robert Krzyzanowski, <code>@ryanatanner</code>, Sascha Holzhauer, <code>@scharne</code>, Sean Wilkinson, <code>@SimonPBiggs</code>, Stefan Widgren, Stephen Frank, Stephen Rushe, Tony Breyal, Tony Fischetti, <code>@urmils</code>, Vlad Petyuk, Winston Chang, <code>@winterschlaefer</code>, <code>@wrathematics</code>, <code>@zhaoy</code>.</p>
</section><section id="intro-conventions" class="level2" data-number="1.5"><h2 data-number="1.5" class="anchored" data-anchor-id="intro-conventions">
<span class="header-section-number">1.5</span> Conventions</h2>
<p>Throughout this book, we write <code>fun()</code> to refer to functions, <code>var</code> to refer to variables and function arguments, and <code>path/</code> for paths.</p>
<p>Larger code blocks intermingle input and output. Output is commented so that if you have an electronic version of the book, e.g., <a href="https://r-pkgs.org" class="uri">https://r-pkgs.org</a>, you can easily copy and paste examples into R. Output comments look like <code>#&gt;</code> to distinguish them from regular comments.</p>
</section><section id="intro-colophon" class="level2" data-number="1.6"><h2 data-number="1.6" class="anchored" data-anchor-id="intro-colophon">
<span class="header-section-number">1.6</span> Colophon</h2>
<p>This book was authored using <a href="https://quarto.org">quarto</a> inside <a href="https://www.rstudio.com/products/rstudio/">RStudio</a>. The <a href="https://r-pkgs.org">website</a> is hosted with <a href="https://www.netlify.com">Netlify</a>, and automatically updated after every commit by GitHub actions. The complete source is available from <a href="https://github.com/hadley/r-pkgs">GitHub</a>.</p>
<p>This version of the book was built with:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/">devtools</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: usethis</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://roxygen2.r-lib.org/">roxygen2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://testthat.r-lib.org">testthat</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'testthat'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:devtools':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     test_file</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://r-lib.github.io/sessioninfo/reference/session_info.html">session_info</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ─ Session info ───────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  setting  value</span></span>
<span><span class="co">#&gt;  version  R version 4.2.0 (2022-04-22)</span></span>
<span><span class="co">#&gt;  os       Ubuntu 20.04.4 LTS</span></span>
<span><span class="co">#&gt;  system   x86_64, linux-gnu</span></span>
<span><span class="co">#&gt;  ui       X11</span></span>
<span><span class="co">#&gt;  language (EN)</span></span>
<span><span class="co">#&gt;  collate  C.UTF-8</span></span>
<span><span class="co">#&gt;  ctype    C.UTF-8</span></span>
<span><span class="co">#&gt;  tz       UTC</span></span>
<span><span class="co">#&gt;  date     2022-07-22</span></span>
<span><span class="co">#&gt;  pandoc   2.5 @ /usr/bin/ (via rmarkdown)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ─ Packages ───────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  package     * version    date (UTC) lib source</span></span>
<span><span class="co">#&gt;  brio          1.1.3      2021-11-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  cachem        1.0.6      2021-08-19 [1] RSPM</span></span>
<span><span class="co">#&gt;  callr         3.7.1      2022-07-13 [1] RSPM</span></span>
<span><span class="co">#&gt;  cli           3.3.0      2022-04-25 [1] RSPM</span></span>
<span><span class="co">#&gt;  crayon        1.5.1      2022-03-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  devtools    * 2.4.4      2022-07-20 [1] RSPM</span></span>
<span><span class="co">#&gt;  digest        0.6.29     2021-12-01 [1] RSPM</span></span>
<span><span class="co">#&gt;  ellipsis      0.3.2      2021-04-29 [1] RSPM</span></span>
<span><span class="co">#&gt;  evaluate      0.15       2022-02-18 [1] RSPM</span></span>
<span><span class="co">#&gt;  fastmap       1.1.0      2021-01-25 [1] RSPM</span></span>
<span><span class="co">#&gt;  fs            1.5.2      2021-12-08 [1] RSPM</span></span>
<span><span class="co">#&gt;  glue          1.6.2      2022-02-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  htmltools     0.5.3      2022-07-18 [1] RSPM</span></span>
<span><span class="co">#&gt;  htmlwidgets   1.5.4      2021-09-08 [1] RSPM</span></span>
<span><span class="co">#&gt;  httpuv        1.6.5      2022-01-05 [1] RSPM</span></span>
<span><span class="co">#&gt;  jsonlite      1.8.0      2022-02-22 [1] RSPM</span></span>
<span><span class="co">#&gt;  knitr         1.39       2022-04-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  later         1.3.0      2021-08-18 [1] RSPM</span></span>
<span><span class="co">#&gt;  lifecycle     1.0.1      2021-09-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  magrittr      2.0.3      2022-03-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  memoise       2.0.1      2021-11-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  mime          0.12       2021-09-28 [1] RSPM</span></span>
<span><span class="co">#&gt;  miniUI        0.1.1.1    2018-05-18 [1] RSPM</span></span>
<span><span class="co">#&gt;  pkgbuild      1.3.1      2021-12-20 [1] RSPM</span></span>
<span><span class="co">#&gt;  pkgload       1.3.0      2022-06-27 [1] RSPM</span></span>
<span><span class="co">#&gt;  prettyunits   1.1.1      2020-01-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  processx      3.7.0      2022-07-07 [1] RSPM</span></span>
<span><span class="co">#&gt;  profvis       0.3.7      2020-11-02 [1] RSPM</span></span>
<span><span class="co">#&gt;  promises      1.2.0.1    2021-02-11 [1] RSPM</span></span>
<span><span class="co">#&gt;  ps            1.7.1      2022-06-18 [1] RSPM</span></span>
<span><span class="co">#&gt;  purrr         0.3.4      2020-04-17 [1] RSPM</span></span>
<span><span class="co">#&gt;  R6            2.5.1      2021-08-19 [1] RSPM</span></span>
<span><span class="co">#&gt;  Rcpp          1.0.9      2022-07-08 [1] RSPM</span></span>
<span><span class="co">#&gt;  remotes       2.4.2      2021-11-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  rlang         1.0.4      2022-07-12 [1] RSPM</span></span>
<span><span class="co">#&gt;  rmarkdown     2.14       2022-04-25 [1] RSPM</span></span>
<span><span class="co">#&gt;  roxygen2    * 7.2.1      2022-07-18 [1] RSPM</span></span>
<span><span class="co">#&gt;  sessioninfo   1.2.2      2021-12-06 [1] RSPM</span></span>
<span><span class="co">#&gt;  shiny         1.7.2      2022-07-19 [1] RSPM</span></span>
<span><span class="co">#&gt;  stringi       1.7.8      2022-07-11 [1] RSPM</span></span>
<span><span class="co">#&gt;  stringr       1.4.0.9000 2022-06-09 [1] Github (tidyverse/stringr@9b46754)</span></span>
<span><span class="co">#&gt;  testthat    * 3.1.4      2022-04-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  urlchecker    1.0.1      2021-11-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  usethis     * 2.1.6      2022-05-25 [1] RSPM</span></span>
<span><span class="co">#&gt;  vctrs         0.4.1      2022-04-13 [1] RSPM</span></span>
<span><span class="co">#&gt;  xfun          0.31       2022-05-10 [1] RSPM</span></span>
<span><span class="co">#&gt;  xml2          1.3.3      2021-11-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  xtable        1.8-4      2019-04-21 [1] RSPM</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  [1] /home/runner/work/_temp/Library</span></span>
<span><span class="co">#&gt;  [2] /opt/R/4.2.0/lib/R/library</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ──────────────────────────────────────────────────────────────────</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-marwick2018-tas" class="csl-entry" role="doc-biblioentry">
Marwick, Ben, Carl Boettiger, and Lincoln Mullen. 2018a. <span>“Packaging Data Analytical Work Reproducibly Using r (and Friends).”</span> <em>The American Statistician</em> 72 (1): 80–88. <a href="https://doi.org/10.1080/00031305.2017.1375986">https://doi.org/10.1080/00031305.2017.1375986</a>.
</div>
<div id="ref-marwick2018-peerj" class="csl-entry" role="doc-biblioentry">
———. 2018b. <span>“Packaging Data Analytical Work Reproducibly Using r (and Friends).”</span> <em>PeerJ Preprints</em> 6 (March): e3192v2. <a href="https://doi.org/10.7287/peerj.preprints.3192v2">https://doi.org/10.7287/peerj.preprints.3192v2</a>.
</div>
</div>
</section><section class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1" role="doc-endnote"><p>You might also enjoy the “quarto-ized” version at <a href="https://rstudio.github.io/r-manuals/r-exts/Function-and-variable-index.html">https://rstudio.github.io/r-manuals/r-exts/</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./Preface.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Whole-game.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The whole game</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>