<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 6 Vignettes: long-form documentation | R packages</title>
  <meta name="description" content="This is the book site for “R packages”.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 6 Vignettes: long-form documentation | R packages" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://r-pkgs.xiaosongz.com" />
  <meta property="og:image" content="https://r-pkgs.xiaosongz.comimages/cover.png" />
  <meta property="og:description" content="This is the book site for “R packages”." />
  <meta name="github-repo" content="hadley/r-pkgs" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Vignettes: long-form documentation | R packages" />
  
  <meta name="twitter:description" content="This is the book site for “R packages”." />
  <meta name="twitter:image" content="https://r-pkgs.xiaosongz.comimages/cover.png" />

<meta name="author" content="Hadley Wickham">


<meta name="date" content="2019-01-29">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="man.html">
<link rel="next" href="tests.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R packages by Hadley Wickham</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>R packages</a></li>
<li class="chapter" data-level="1" data-path="intro-why.html"><a href="intro-why.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro-why.html"><a href="intro-why.html#intro-phil"><i class="fa fa-check"></i><b>1.1</b> Philosophy</a></li>
<li class="chapter" data-level="1.2" data-path="intro-why.html"><a href="intro-why.html#intro-outline"><i class="fa fa-check"></i><b>1.2</b> In this book</a></li>
<li class="chapter" data-level="1.3" data-path="intro-why.html"><a href="intro-why.html#intro-get"><i class="fa fa-check"></i><b>1.3</b> Getting started</a></li>
<li class="chapter" data-level="1.4" data-path="intro-why.html"><a href="intro-why.html#intro-ack"><i class="fa fa-check"></i><b>1.4</b> Acknowledgments</a></li>
<li class="chapter" data-level="1.5" data-path="intro-why.html"><a href="intro-why.html#intro-conventions"><i class="fa fa-check"></i><b>1.5</b> Conventions</a></li>
<li class="chapter" data-level="1.6" data-path="intro-why.html"><a href="intro-why.html#intro-colophon"><i class="fa fa-check"></i><b>1.6</b> Colophon</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="package-structure.html"><a href="package-structure.html"><i class="fa fa-check"></i><b>2</b> Package structure</a><ul>
<li class="chapter" data-level="2.1" data-path="package-structure.html"><a href="package-structure.html#naming"><i class="fa fa-check"></i><b>2.1</b> Naming your package</a><ul>
<li class="chapter" data-level="2.1.1" data-path="package-structure.html"><a href="package-structure.html#requirements-for-a-name"><i class="fa fa-check"></i><b>2.1.1</b> Requirements for a name</a></li>
<li class="chapter" data-level="2.1.2" data-path="package-structure.html"><a href="package-structure.html#strategies-for-creating-a-name"><i class="fa fa-check"></i><b>2.1.2</b> Strategies for creating a name</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="package-structure.html"><a href="package-structure.html#getting-started"><i class="fa fa-check"></i><b>2.2</b> Creating a package</a></li>
<li class="chapter" data-level="2.3" data-path="package-structure.html"><a href="package-structure.html#projects"><i class="fa fa-check"></i><b>2.3</b> RStudio projects</a><ul>
<li class="chapter" data-level="2.3.1" data-path="package-structure.html"><a href="package-structure.html#what-is-an-rstudio-project-file"><i class="fa fa-check"></i><b>2.3.1</b> What is an RStudio project file?</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="package-structure.html"><a href="package-structure.html#package"><i class="fa fa-check"></i><b>2.4</b> What is a package?</a><ul>
<li class="chapter" data-level="2.4.1" data-path="package-structure.html"><a href="package-structure.html#source-packages"><i class="fa fa-check"></i><b>2.4.1</b> Source packages</a></li>
<li class="chapter" data-level="2.4.2" data-path="package-structure.html"><a href="package-structure.html#bundled-packages"><i class="fa fa-check"></i><b>2.4.2</b> Bundled packages</a></li>
<li class="chapter" data-level="2.4.3" data-path="package-structure.html"><a href="package-structure.html#binary-packages"><i class="fa fa-check"></i><b>2.4.3</b> Binary packages</a></li>
<li class="chapter" data-level="2.4.4" data-path="package-structure.html"><a href="package-structure.html#install"><i class="fa fa-check"></i><b>2.4.4</b> Installed packages</a></li>
<li class="chapter" data-level="2.4.5" data-path="package-structure.html"><a href="package-structure.html#in-memory-packages"><i class="fa fa-check"></i><b>2.4.5</b> In memory packages</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="package-structure.html"><a href="package-structure.html#library"><i class="fa fa-check"></i><b>2.5</b> What is a library?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>3</b> R code</a><ul>
<li class="chapter" data-level="3.1" data-path="r.html"><a href="r.html#r-workflow"><i class="fa fa-check"></i><b>3.1</b> R code workflow</a></li>
<li class="chapter" data-level="3.2" data-path="r.html"><a href="r.html#r-organising"><i class="fa fa-check"></i><b>3.2</b> Organising your functions</a></li>
<li class="chapter" data-level="3.3" data-path="r.html"><a href="r.html#style"><i class="fa fa-check"></i><b>3.3</b> Code style</a><ul>
<li class="chapter" data-level="3.3.1" data-path="r.html"><a href="r.html#object-names"><i class="fa fa-check"></i><b>3.3.1</b> Object names</a></li>
<li class="chapter" data-level="3.3.2" data-path="r.html"><a href="r.html#spacing"><i class="fa fa-check"></i><b>3.3.2</b> Spacing</a></li>
<li class="chapter" data-level="3.3.3" data-path="r.html"><a href="r.html#curly-braces"><i class="fa fa-check"></i><b>3.3.3</b> Curly braces</a></li>
<li class="chapter" data-level="3.3.4" data-path="r.html"><a href="r.html#line-length"><i class="fa fa-check"></i><b>3.3.4</b> Line length</a></li>
<li class="chapter" data-level="3.3.5" data-path="r.html"><a href="r.html#indentation"><i class="fa fa-check"></i><b>3.3.5</b> Indentation</a></li>
<li class="chapter" data-level="3.3.6" data-path="r.html"><a href="r.html#assignment"><i class="fa fa-check"></i><b>3.3.6</b> Assignment</a></li>
<li class="chapter" data-level="3.3.7" data-path="r.html"><a href="r.html#commenting-guidelines"><i class="fa fa-check"></i><b>3.3.7</b> Commenting guidelines</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="r.html"><a href="r.html#r-differences"><i class="fa fa-check"></i><b>3.4</b> Top-level code</a><ul>
<li class="chapter" data-level="3.4.1" data-path="r.html"><a href="r.html#loading-code"><i class="fa fa-check"></i><b>3.4.1</b> Loading code</a></li>
<li class="chapter" data-level="3.4.2" data-path="r.html"><a href="r.html#the-r-landscape"><i class="fa fa-check"></i><b>3.4.2</b> The R landscape</a></li>
<li class="chapter" data-level="3.4.3" data-path="r.html"><a href="r.html#when-you-do-need-side-effects"><i class="fa fa-check"></i><b>3.4.3</b> When you <strong>do</strong> need side-effects</a></li>
<li class="chapter" data-level="3.4.4" data-path="r.html"><a href="r.html#s4-classes-generics-and-methods"><i class="fa fa-check"></i><b>3.4.4</b> S4 classes, generics and methods</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="r.html"><a href="r.html#r-cran"><i class="fa fa-check"></i><b>3.5</b> CRAN notes</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="description.html"><a href="description.html"><i class="fa fa-check"></i><b>4</b> Package metadata</a><ul>
<li class="chapter" data-level="4.1" data-path="description.html"><a href="description.html#dependencies"><i class="fa fa-check"></i><b>4.1</b> Dependencies: What does your package need?</a><ul>
<li class="chapter" data-level="4.1.1" data-path="description.html"><a href="description.html#versioning"><i class="fa fa-check"></i><b>4.1.1</b> Versioning</a></li>
<li class="chapter" data-level="4.1.2" data-path="description.html"><a href="description.html#other-dependencies"><i class="fa fa-check"></i><b>4.1.2</b> Other dependencies</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="description.html"><a href="description.html#pkg-description"><i class="fa fa-check"></i><b>4.2</b> Title and description: What does your package do?</a></li>
<li class="chapter" data-level="4.3" data-path="description.html"><a href="description.html#author"><i class="fa fa-check"></i><b>4.3</b> Author: who are you?</a><ul>
<li class="chapter" data-level="4.3.1" data-path="description.html"><a href="description.html#on-cran"><i class="fa fa-check"></i><b>4.3.1</b> On CRAN</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="description.html"><a href="description.html#license"><i class="fa fa-check"></i><b>4.4</b> License: Who can use your package?</a><ul>
<li class="chapter" data-level="4.4.1" data-path="description.html"><a href="description.html#on-cran-1"><i class="fa fa-check"></i><b>4.4.1</b> On CRAN</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="description.html"><a href="description.html#version"><i class="fa fa-check"></i><b>4.5</b> Version</a></li>
<li class="chapter" data-level="4.6" data-path="description.html"><a href="description.html#description-misc"><i class="fa fa-check"></i><b>4.6</b> Other components</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="man.html"><a href="man.html"><i class="fa fa-check"></i><b>5</b> Object documentation</a><ul>
<li class="chapter" data-level="5.1" data-path="man.html"><a href="man.html#man-workflow"><i class="fa fa-check"></i><b>5.1</b> The documentation workflow</a></li>
<li class="chapter" data-level="5.2" data-path="man.html"><a href="man.html#man-workflow-2"><i class="fa fa-check"></i><b>5.2</b> Alternative documentation workflow</a></li>
<li class="chapter" data-level="5.3" data-path="man.html"><a href="man.html#roxygen-comments"><i class="fa fa-check"></i><b>5.3</b> Roxygen comments</a></li>
<li class="chapter" data-level="5.4" data-path="man.html"><a href="man.html#man-functions"><i class="fa fa-check"></i><b>5.4</b> Documenting functions</a></li>
<li class="chapter" data-level="5.5" data-path="man.html"><a href="man.html#man-data"><i class="fa fa-check"></i><b>5.5</b> Documenting datasets</a></li>
<li class="chapter" data-level="5.6" data-path="man.html"><a href="man.html#man-packages"><i class="fa fa-check"></i><b>5.6</b> Documenting packages</a></li>
<li class="chapter" data-level="5.7" data-path="man.html"><a href="man.html#man-classes"><i class="fa fa-check"></i><b>5.7</b> Documenting classes, generics and methods</a><ul>
<li class="chapter" data-level="5.7.1" data-path="man.html"><a href="man.html#man-s3"><i class="fa fa-check"></i><b>5.7.1</b> S3</a></li>
<li class="chapter" data-level="5.7.2" data-path="man.html"><a href="man.html#man-s4"><i class="fa fa-check"></i><b>5.7.2</b> S4</a></li>
<li class="chapter" data-level="5.7.3" data-path="man.html"><a href="man.html#man-rc"><i class="fa fa-check"></i><b>5.7.3</b> RC</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="man.html"><a href="man.html#man-special"><i class="fa fa-check"></i><b>5.8</b> Special characters</a></li>
<li class="chapter" data-level="5.9" data-path="man.html"><a href="man.html#dry2"><i class="fa fa-check"></i><b>5.9</b> Do repeat yourself</a><ul>
<li class="chapter" data-level="5.9.1" data-path="man.html"><a href="man.html#inheriting-parameters-from-other-functions"><i class="fa fa-check"></i><b>5.9.1</b> Inheriting parameters from other functions</a></li>
<li class="chapter" data-level="5.9.2" data-path="man.html"><a href="man.html#multiple-man"><i class="fa fa-check"></i><b>5.9.2</b> Documenting multiple functions in the same file</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="man.html"><a href="man.html#text-formatting"><i class="fa fa-check"></i><b>5.10</b> Text formatting reference sheet</a><ul>
<li class="chapter" data-level="5.10.1" data-path="man.html"><a href="man.html#character-formatting"><i class="fa fa-check"></i><b>5.10.1</b> Character formatting</a></li>
<li class="chapter" data-level="5.10.2" data-path="man.html"><a href="man.html#links"><i class="fa fa-check"></i><b>5.10.2</b> Links</a></li>
<li class="chapter" data-level="5.10.3" data-path="man.html"><a href="man.html#lists"><i class="fa fa-check"></i><b>5.10.3</b> Lists</a></li>
<li class="chapter" data-level="5.10.4" data-path="man.html"><a href="man.html#mathematics"><i class="fa fa-check"></i><b>5.10.4</b> Mathematics</a></li>
<li class="chapter" data-level="5.10.5" data-path="man.html"><a href="man.html#tables"><i class="fa fa-check"></i><b>5.10.5</b> Tables</a></li>
<li class="chapter" data-level="5.10.6" data-path="man.html"><a href="man.html#notes"><i class="fa fa-check"></i><b>5.10.6</b> Notes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="vignettes.html"><a href="vignettes.html"><i class="fa fa-check"></i><b>6</b> Vignettes: long-form documentation</a><ul>
<li class="chapter" data-level="6.1" data-path="vignettes.html"><a href="vignettes.html#vignette-workflow"><i class="fa fa-check"></i><b>6.1</b> Vignette workflow</a></li>
<li class="chapter" data-level="6.2" data-path="vignettes.html"><a href="vignettes.html#vignette-metadata"><i class="fa fa-check"></i><b>6.2</b> Metadata</a></li>
<li class="chapter" data-level="6.3" data-path="vignettes.html"><a href="vignettes.html#markdown"><i class="fa fa-check"></i><b>6.3</b> Markdown</a><ul>
<li class="chapter" data-level="6.3.1" data-path="vignettes.html"><a href="vignettes.html#sections"><i class="fa fa-check"></i><b>6.3.1</b> Sections</a></li>
<li class="chapter" data-level="6.3.2" data-path="vignettes.html"><a href="vignettes.html#lists-1"><i class="fa fa-check"></i><b>6.3.2</b> Lists</a></li>
<li class="chapter" data-level="6.3.3" data-path="vignettes.html"><a href="vignettes.html#inline-formatting"><i class="fa fa-check"></i><b>6.3.3</b> Inline formatting</a></li>
<li class="chapter" data-level="6.3.4" data-path="vignettes.html"><a href="vignettes.html#tables-1"><i class="fa fa-check"></i><b>6.3.4</b> Tables</a></li>
<li class="chapter" data-level="6.3.5" data-path="vignettes.html"><a href="vignettes.html#code"><i class="fa fa-check"></i><b>6.3.5</b> Code</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="vignettes.html"><a href="vignettes.html#knitr"><i class="fa fa-check"></i><b>6.4</b> Knitr</a><ul>
<li class="chapter" data-level="6.4.1" data-path="vignettes.html"><a href="vignettes.html#options"><i class="fa fa-check"></i><b>6.4.1</b> Options</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="vignettes.html"><a href="vignettes.html#vignette-workflow-2"><i class="fa fa-check"></i><b>6.5</b> Development cycle</a></li>
<li class="chapter" data-level="6.6" data-path="vignettes.html"><a href="vignettes.html#vignette-advice"><i class="fa fa-check"></i><b>6.6</b> Advice for writing vignettes</a><ul>
<li class="chapter" data-level="6.6.1" data-path="vignettes.html"><a href="vignettes.html#organisation"><i class="fa fa-check"></i><b>6.6.1</b> Organisation</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="vignettes.html"><a href="vignettes.html#vignette-cran"><i class="fa fa-check"></i><b>6.7</b> CRAN notes</a></li>
<li class="chapter" data-level="6.8" data-path="vignettes.html"><a href="vignettes.html#where-next"><i class="fa fa-check"></i><b>6.8</b> Where next</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tests.html"><a href="tests.html"><i class="fa fa-check"></i><b>7</b> Testing</a><ul>
<li class="chapter" data-level="7.1" data-path="tests.html"><a href="tests.html#test-workflow"><i class="fa fa-check"></i><b>7.1</b> Test workflow</a></li>
<li class="chapter" data-level="7.2" data-path="tests.html"><a href="tests.html#test-structure"><i class="fa fa-check"></i><b>7.2</b> Test structure</a><ul>
<li class="chapter" data-level="7.2.1" data-path="tests.html"><a href="tests.html#expectations"><i class="fa fa-check"></i><b>7.2.1</b> Expectations</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="tests.html"><a href="tests.html#test-tests"><i class="fa fa-check"></i><b>7.3</b> Writing tests</a><ul>
<li class="chapter" data-level="7.3.1" data-path="tests.html"><a href="tests.html#what-to-test"><i class="fa fa-check"></i><b>7.3.1</b> What to test</a></li>
<li class="chapter" data-level="7.3.2" data-path="tests.html"><a href="tests.html#skipping-a-test"><i class="fa fa-check"></i><b>7.3.2</b> Skipping a test</a></li>
<li class="chapter" data-level="7.3.3" data-path="tests.html"><a href="tests.html#building-your-own-testing-tools"><i class="fa fa-check"></i><b>7.3.3</b> Building your own testing tools</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="tests.html"><a href="tests.html#test-files"><i class="fa fa-check"></i><b>7.4</b> Test files</a></li>
<li class="chapter" data-level="7.5" data-path="tests.html"><a href="tests.html#test-cran"><i class="fa fa-check"></i><b>7.5</b> CRAN notes</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="namespace.html"><a href="namespace.html"><i class="fa fa-check"></i><b>8</b> Namespace</a><ul>
<li class="chapter" data-level="8.1" data-path="namespace.html"><a href="namespace.html#namespace-motivation"><i class="fa fa-check"></i><b>8.1</b> Motivation</a></li>
<li class="chapter" data-level="8.2" data-path="namespace.html"><a href="namespace.html#search-path"><i class="fa fa-check"></i><b>8.2</b> Search path</a></li>
<li class="chapter" data-level="8.3" data-path="namespace.html"><a href="namespace.html#namespace-NAMESPACE"><i class="fa fa-check"></i><b>8.3</b> The <code>NAMESPACE</code></a></li>
<li class="chapter" data-level="8.4" data-path="namespace.html"><a href="namespace.html#namespace-workflow"><i class="fa fa-check"></i><b>8.4</b> Workflow</a></li>
<li class="chapter" data-level="8.5" data-path="namespace.html"><a href="namespace.html#exports"><i class="fa fa-check"></i><b>8.5</b> Exports</a><ul>
<li class="chapter" data-level="8.5.1" data-path="namespace.html"><a href="namespace.html#export-s3"><i class="fa fa-check"></i><b>8.5.1</b> S3</a></li>
<li class="chapter" data-level="8.5.2" data-path="namespace.html"><a href="namespace.html#export-s4"><i class="fa fa-check"></i><b>8.5.2</b> S4</a></li>
<li class="chapter" data-level="8.5.3" data-path="namespace.html"><a href="namespace.html#export-rc"><i class="fa fa-check"></i><b>8.5.3</b> RC</a></li>
<li class="chapter" data-level="8.5.4" data-path="namespace.html"><a href="namespace.html#export-data"><i class="fa fa-check"></i><b>8.5.4</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="namespace.html"><a href="namespace.html#imports"><i class="fa fa-check"></i><b>8.6</b> Imports</a><ul>
<li class="chapter" data-level="8.6.1" data-path="namespace.html"><a href="namespace.html#import-r"><i class="fa fa-check"></i><b>8.6.1</b> R functions</a></li>
<li class="chapter" data-level="8.6.2" data-path="namespace.html"><a href="namespace.html#import-s3"><i class="fa fa-check"></i><b>8.6.2</b> S3</a></li>
<li class="chapter" data-level="8.6.3" data-path="namespace.html"><a href="namespace.html#import-s4"><i class="fa fa-check"></i><b>8.6.3</b> S4</a></li>
<li class="chapter" data-level="8.6.4" data-path="namespace.html"><a href="namespace.html#import-src"><i class="fa fa-check"></i><b>8.6.4</b> Compiled functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>9</b> External data</a><ul>
<li class="chapter" data-level="9.1" data-path="data.html"><a href="data.html#data-data"><i class="fa fa-check"></i><b>9.1</b> Exported data</a><ul>
<li class="chapter" data-level="9.1.1" data-path="data.html"><a href="data.html#documenting-data"><i class="fa fa-check"></i><b>9.1.1</b> Documenting datasets</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="data.html"><a href="data.html#data-sysdata"><i class="fa fa-check"></i><b>9.2</b> Internal data</a></li>
<li class="chapter" data-level="9.3" data-path="data.html"><a href="data.html#data-extdata"><i class="fa fa-check"></i><b>9.3</b> Raw data</a></li>
<li class="chapter" data-level="9.4" data-path="data.html"><a href="data.html#other-data"><i class="fa fa-check"></i><b>9.4</b> Other data</a></li>
<li class="chapter" data-level="9.5" data-path="data.html"><a href="data.html#data-cran"><i class="fa fa-check"></i><b>9.5</b> CRAN notes</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="src.html"><a href="src.html"><i class="fa fa-check"></i><b>10</b> Compiled code</a><ul>
<li class="chapter" data-level="10.1" data-path="src.html"><a href="src.html#cpp"><i class="fa fa-check"></i><b>10.1</b> C++</a><ul>
<li class="chapter" data-level="10.1.1" data-path="src.html"><a href="src.html#cpp-workflow"><i class="fa fa-check"></i><b>10.1.1</b> Workflow</a></li>
<li class="chapter" data-level="10.1.2" data-path="src.html"><a href="src.html#cpp-man"><i class="fa fa-check"></i><b>10.1.2</b> Documentation</a></li>
<li class="chapter" data-level="10.1.3" data-path="src.html"><a href="src.html#cpp-export"><i class="fa fa-check"></i><b>10.1.3</b> Exporting C++ code</a></li>
<li class="chapter" data-level="10.1.4" data-path="src.html"><a href="src.html#cpp-import"><i class="fa fa-check"></i><b>10.1.4</b> Importing C++ code</a></li>
<li class="chapter" data-level="10.1.5" data-path="src.html"><a href="src.html#cpp-best-practices"><i class="fa fa-check"></i><b>10.1.5</b> Best practices</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="src.html"><a href="src.html#clang"><i class="fa fa-check"></i><b>10.2</b> C</a><ul>
<li class="chapter" data-level="10.2.1" data-path="src.html"><a href="src.html#getting-started-with-.call"><i class="fa fa-check"></i><b>10.2.1</b> Getting started with <code>.Call()</code></a></li>
<li class="chapter" data-level="10.2.2" data-path="src.html"><a href="src.html#getting-started-with-.c"><i class="fa fa-check"></i><b>10.2.2</b> Getting started with <code>.C()</code></a></li>
<li class="chapter" data-level="10.2.3" data-path="src.html"><a href="src.html#c-workflow"><i class="fa fa-check"></i><b>10.2.3</b> Workflow</a></li>
<li class="chapter" data-level="10.2.4" data-path="src.html"><a href="src.html#c-export"><i class="fa fa-check"></i><b>10.2.4</b> Exporting C code</a></li>
<li class="chapter" data-level="10.2.5" data-path="src.html"><a href="src.html#c-import"><i class="fa fa-check"></i><b>10.2.5</b> Importing C code</a></li>
<li class="chapter" data-level="10.2.6" data-path="src.html"><a href="src.html#c-best-practices"><i class="fa fa-check"></i><b>10.2.6</b> Best practices</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="src.html"><a href="src.html#src-debugging"><i class="fa fa-check"></i><b>10.3</b> Debugging compiled code</a></li>
<li class="chapter" data-level="10.4" data-path="src.html"><a href="src.html#make"><i class="fa fa-check"></i><b>10.4</b> Makefiles</a></li>
<li class="chapter" data-level="10.5" data-path="src.html"><a href="src.html#src-other"><i class="fa fa-check"></i><b>10.5</b> Other languages</a></li>
<li class="chapter" data-level="10.6" data-path="src.html"><a href="src.html#src-licensing"><i class="fa fa-check"></i><b>10.6</b> Licensing</a></li>
<li class="chapter" data-level="10.7" data-path="src.html"><a href="src.html#src-workflow"><i class="fa fa-check"></i><b>10.7</b> Development workflow</a></li>
<li class="chapter" data-level="10.8" data-path="src.html"><a href="src.html#src-cran"><i class="fa fa-check"></i><b>10.8</b> CRAN issues</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="inst.html"><a href="inst.html"><i class="fa fa-check"></i><b>11</b> Installed files</a><ul>
<li class="chapter" data-level="11.1" data-path="inst.html"><a href="inst.html#inst-citation"><i class="fa fa-check"></i><b>11.1</b> Package citation</a></li>
<li class="chapter" data-level="11.2" data-path="inst.html"><a href="inst.html#inst-other-langs"><i class="fa fa-check"></i><b>11.2</b> Other languages</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="misc.html"><a href="misc.html"><i class="fa fa-check"></i><b>12</b> Other components</a><ul>
<li class="chapter" data-level="12.1" data-path="misc.html"><a href="misc.html#demo"><i class="fa fa-check"></i><b>12.1</b> Demos</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>13</b> Git and GitHub</a><ul>
<li class="chapter" data-level="13.1" data-path="git.html"><a href="git.html#git-rstudio"><i class="fa fa-check"></i><b>13.1</b> RStudio, Git and GitHub</a></li>
<li class="chapter" data-level="13.2" data-path="git.html"><a href="git.html#git-setup"><i class="fa fa-check"></i><b>13.2</b> Initial set up</a></li>
<li class="chapter" data-level="13.3" data-path="git.html"><a href="git.html#git-init"><i class="fa fa-check"></i><b>13.3</b> Create a local Git repository</a></li>
<li class="chapter" data-level="13.4" data-path="git.html"><a href="git.html#git-status"><i class="fa fa-check"></i><b>13.4</b> See what’s changed</a></li>
<li class="chapter" data-level="13.5" data-path="git.html"><a href="git.html#git-commit"><i class="fa fa-check"></i><b>13.5</b> Record changes</a></li>
<li class="chapter" data-level="13.6" data-path="git.html"><a href="git.html#commit-best-practices"><i class="fa fa-check"></i><b>13.6</b> Commit best practices</a></li>
<li class="chapter" data-level="13.7" data-path="git.html"><a href="git.html#git-ignore"><i class="fa fa-check"></i><b>13.7</b> Ignoring files</a></li>
<li class="chapter" data-level="13.8" data-path="git.html"><a href="git.html#git-undo"><i class="fa fa-check"></i><b>13.8</b> Undo a mistake</a></li>
<li class="chapter" data-level="13.9" data-path="git.html"><a href="git.html#github-init"><i class="fa fa-check"></i><b>13.9</b> Synchronising with GitHub</a></li>
<li class="chapter" data-level="13.10" data-path="git.html"><a href="git.html#github-benefit"><i class="fa fa-check"></i><b>13.10</b> Benefits of using GitHub</a></li>
<li class="chapter" data-level="13.11" data-path="git.html"><a href="git.html#git-pull"><i class="fa fa-check"></i><b>13.11</b> Working with others</a></li>
<li class="chapter" data-level="13.12" data-path="git.html"><a href="git.html#github-issues"><i class="fa fa-check"></i><b>13.12</b> Issues</a></li>
<li class="chapter" data-level="13.13" data-path="git.html"><a href="git.html#git-branch"><i class="fa fa-check"></i><b>13.13</b> Branches</a></li>
<li class="chapter" data-level="13.14" data-path="git.html"><a href="git.html#git-pullreq"><i class="fa fa-check"></i><b>13.14</b> Making a pull request</a></li>
<li class="chapter" data-level="13.15" data-path="git.html"><a href="git.html#pr-make"><i class="fa fa-check"></i><b>13.15</b> Submitting a pull request to another repo</a></li>
<li class="chapter" data-level="13.16" data-path="git.html"><a href="git.html#pr-accept"><i class="fa fa-check"></i><b>13.16</b> Reviewing and accepting pull requests</a></li>
<li class="chapter" data-level="13.17" data-path="git.html"><a href="git.html#git-learning"><i class="fa fa-check"></i><b>13.17</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="check.html"><a href="check.html"><i class="fa fa-check"></i><b>14</b> Automated checking</a><ul>
<li class="chapter" data-level="14.1" data-path="check.html"><a href="check.html#check-workflow"><i class="fa fa-check"></i><b>14.1</b> Workflow</a></li>
<li class="chapter" data-level="14.2" data-path="check.html"><a href="check.html#check-checks"><i class="fa fa-check"></i><b>14.2</b> Checks</a><ul>
<li class="chapter" data-level="14.2.1" data-path="check.html"><a href="check.html#check-metadata"><i class="fa fa-check"></i><b>14.2.1</b> Check metadata</a></li>
<li class="chapter" data-level="14.2.2" data-path="check.html"><a href="check.html#package-structure-1"><i class="fa fa-check"></i><b>14.2.2</b> Package structure</a></li>
<li class="chapter" data-level="14.2.3" data-path="check.html"><a href="check.html#description-1"><i class="fa fa-check"></i><b>14.2.3</b> Description</a></li>
<li class="chapter" data-level="14.2.4" data-path="check.html"><a href="check.html#namespace-1"><i class="fa fa-check"></i><b>14.2.4</b> Namespace</a></li>
<li class="chapter" data-level="14.2.5" data-path="check.html"><a href="check.html#r-code"><i class="fa fa-check"></i><b>14.2.5</b> R code</a></li>
<li class="chapter" data-level="14.2.6" data-path="check.html"><a href="check.html#data-1"><i class="fa fa-check"></i><b>14.2.6</b> Data</a></li>
<li class="chapter" data-level="14.2.7" data-path="check.html"><a href="check.html#documentation"><i class="fa fa-check"></i><b>14.2.7</b> Documentation</a></li>
<li class="chapter" data-level="14.2.8" data-path="check.html"><a href="check.html#demos"><i class="fa fa-check"></i><b>14.2.8</b> Demos</a></li>
<li class="chapter" data-level="14.2.9" data-path="check.html"><a href="check.html#compiled-code"><i class="fa fa-check"></i><b>14.2.9</b> Compiled code</a></li>
<li class="chapter" data-level="14.2.10" data-path="check.html"><a href="check.html#tests-1"><i class="fa fa-check"></i><b>14.2.10</b> Tests</a></li>
<li class="chapter" data-level="14.2.11" data-path="check.html"><a href="check.html#vignettes-1"><i class="fa fa-check"></i><b>14.2.11</b> Vignettes</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="check.html"><a href="check.html#travis"><i class="fa fa-check"></i><b>14.3</b> Checking after every commit with Travis</a><ul>
<li class="chapter" data-level="14.3.1" data-path="check.html"><a href="check.html#basic-config"><i class="fa fa-check"></i><b>14.3.1</b> Basic config</a></li>
<li class="chapter" data-level="14.3.2" data-path="check.html"><a href="check.html#other-uses"><i class="fa fa-check"></i><b>14.3.2</b> Other uses</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="release.html"><a href="release.html"><i class="fa fa-check"></i><b>15</b> Releasing a package</a><ul>
<li class="chapter" data-level="15.1" data-path="release.html"><a href="release.html#release-version"><i class="fa fa-check"></i><b>15.1</b> Version number</a></li>
<li class="chapter" data-level="15.2" data-path="release.html"><a href="release.html#compatibility"><i class="fa fa-check"></i><b>15.2</b> Backward compatibility</a></li>
<li class="chapter" data-level="15.3" data-path="release.html"><a href="release.html#release-check"><i class="fa fa-check"></i><b>15.3</b> The submission process</a><ul>
<li class="chapter" data-level="15.3.1" data-path="release.html"><a href="release.html#release-test-env"><i class="fa fa-check"></i><b>15.3.1</b> Test environments</a></li>
<li class="chapter" data-level="15.3.2" data-path="release.html"><a href="release.html#release-check"><i class="fa fa-check"></i><b>15.3.2</b> Check results</a></li>
<li class="chapter" data-level="15.3.3" data-path="release.html"><a href="release.html#release-deps"><i class="fa fa-check"></i><b>15.3.3</b> Reverse dependencies</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="release.html"><a href="release.html#cran-policies"><i class="fa fa-check"></i><b>15.4</b> CRAN policies</a></li>
<li class="chapter" data-level="15.5" data-path="release.html"><a href="release.html#important-files"><i class="fa fa-check"></i><b>15.5</b> Important files</a><ul>
<li class="chapter" data-level="15.5.1" data-path="release.html"><a href="release.html#readme"><i class="fa fa-check"></i><b>15.5.1</b> README.md</a></li>
<li class="chapter" data-level="15.5.2" data-path="release.html"><a href="release.html#readme-rmd"><i class="fa fa-check"></i><b>15.5.2</b> README.Rmd</a></li>
<li class="chapter" data-level="15.5.3" data-path="release.html"><a href="release.html#news"><i class="fa fa-check"></i><b>15.5.3</b> NEWS.md</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="release.html"><a href="release.html#release-submission"><i class="fa fa-check"></i><b>15.6</b> Release</a><ul>
<li class="chapter" data-level="15.6.1" data-path="release.html"><a href="release.html#on-failure"><i class="fa fa-check"></i><b>15.6.1</b> On failure</a></li>
<li class="chapter" data-level="15.6.2" data-path="release.html"><a href="release.html#binary-builds"><i class="fa fa-check"></i><b>15.6.2</b> Binary builds</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="release.html"><a href="release.html#post-release"><i class="fa fa-check"></i><b>15.7</b> Prepare for next version</a></li>
<li class="chapter" data-level="15.8" data-path="release.html"><a href="release.html#promotion"><i class="fa fa-check"></i><b>15.8</b> Publicising your package</a></li>
<li class="chapter" data-level="15.9" data-path="release.html"><a href="release.html#congratulations"><i class="fa fa-check"></i><b>15.9</b> Congratulations!</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/hadley/r-pkgs/" target="blank">PBuilding R package - Hadley Wickham</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R packages</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="vignettes" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Vignettes: long-form documentation</h1>
<p>A vignette is a long-form guide to your package. Function documentation is great if you know the name of the function you need, but it’s useless otherwise. A vignette is like a book chapter or an academic paper: it can describe the problem that your package is designed to solve, and then show the reader how to solve it. A vignette should divide functions into useful categories, and demonstrate how to coordinate multiple functions to solve problems. Vignettes are also useful if you want to explain the details of your package. For example, if you have implemented a complex statistical algorithm, you might want to describe all the details in a vignette so that users of your package can understand what’s going on under the hood, and be confident that you’ve implemented the algorithm correctly.</p>
<p>Many existing packages have vignettes. You can see all the installed vignettes with <code>browseVignettes()</code>. To see the vignette for a specific package, use the argument, <code>browseVignettes(&quot;packagename&quot;)</code>. Each vignette provides three things: the original source file, a readable HTML page or PDF, and a file of R code. You can read a specific vignette with <code>vignette(x)</code>, and see its code with <code>edit(vignette(x))</code>. To see vignettes for a package you haven’t installed, look at its CRAN page, e.g., <a href="http://cran.r-project.org/web/packages/dplyr" class="uri">http://cran.r-project.org/web/packages/dplyr</a>.</p>
<p>Before R 3.0.0, the only way to create a vignette was with Sweave. This was challenging because Sweave only worked with LaTeX, and LaTeX is both hard to learn and slow to compile. Now, any package can provide a vignette <strong>engine</strong>, a standard interface for turning input files into HTML or PDF vignettes. In this chapter, we’re going to use the R markdown vignette engine provided by <a href="http://yihui.name/knitr/">knitr</a>. I recommend this engine because:</p>
<ul>
<li><p>You write in Markdown, a plain text formatting system. Markdown is limited
compared to LaTeX, but this limitation is good because it forces you to
focus on the content.</p></li>
<li><p>It can intermingle text, code and results (both textual and visual).</p></li>
<li><p>Your life is further simplified by the <a href="http://rmarkdown.rstudio.com/">rmarkdown package</a>,
which coordinates Markdown and knitr by using <a href="http://johnmacfarlane.net/pandoc">pandoc</a>
to convert Markdown to HTML and by providing many useful templates.</p></li>
</ul>
<p>Switching from Sweave to R Markdown had a profound impact on my use of vignettes. Previously, making a vignette was painful and slow and I rarely did it. Now, vignettes are an essential part of my packages. I use them whenever I need to explain a complex topic, or to show how to solve a problem with multiple steps.</p>
<p>Currently, the easiest way to get R Markdown is to use <a href="http://www.rstudio.com/products/rstudio/download/preview/">RStudio</a>. RStudio will automatically install all of the needed prerequisites. If you don’t use RStudio, you’ll need to:</p>
<ol style="list-style-type: decimal">
<li><p>Install the rmarkdown package with <code>install.packages(&quot;rmarkdown&quot;)</code>.</p></li>
<li><p><a href="http://johnmacfarlane.net/pandoc/installing.html">Install pandoc</a>.</p></li>
</ol>
<div id="vignette-workflow" class="section level2">
<h2><span class="header-section-number">6.1</span> Vignette workflow</h2>
<p>To create your first vignette, run:</p>
<pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw">use_vignette</span>(<span class="st">&quot;my-vignette&quot;</span>)</code></pre>
<p>This will:</p>
<ol style="list-style-type: decimal">
<li><p>Create a <code>vignettes/</code> directory.</p></li>
<li><p>Add the necessary dependencies to <code>DESCRIPTION</code> (i.e. it adds knitr to
the <code>Suggests</code> and <code>VignetteBuilder</code> fields).</p></li>
<li><p>Draft a vignette, <code>vignettes/my-vignette.Rmd</code>.</p></li>
</ol>
<p>The draft vignette has been designed to remind you of the important parts of an R Markdown file. It serves as a useful reference when you’re creating a new vignette.</p>
<p>Once you have this file, the workflow is straightforward:</p>
<ol style="list-style-type: decimal">
<li><p>Modify the vignette.</p></li>
<li><p>Press Ctrl/Cmd + Shift + K (or click
<img src="images/knit.png" /><!-- -->) to knit the
vignette and preview the output.</p></li>
</ol>
<p>There are three important components to an R Markdown vignette:</p>
<ul>
<li>The initial metadata block.</li>
<li>Markdown for formatting text.</li>
<li>Knitr for intermingling text, code and results.</li>
</ul>
<p>These are described in the following sections.</p>
</div>
<div id="vignette-metadata" class="section level2">
<h2><span class="header-section-number">6.2</span> Metadata</h2>
<p>The first few lines of the vignette contain important metadata. The default template contains the following information:</p>
<pre><code>---
title: &quot;Vignette Title&quot;
author: &quot;Vignette Author&quot;
date: &quot;`r Sys.Date()`&quot;
output: rmarkdown::html_vignette
vignette: &gt;
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---</code></pre>
<p>This metadata is written in <a href="http://www.yaml.org/">yaml</a>, a format designed to be both human and computer readable. The basics of the syntax is much like the <code>DESCRIPTION</code> file, where each line consists of a field name, a colon, then the value of the field. The one special YAML feature we’re using here is <code>&gt;</code>. It indicates the following lines of text are plain text and shouldn’t use any special YAML features.</p>
<p>The fields are:</p>
<ul>
<li><p>Title, author and date: this is where you put the vignette’s title, author and
date. You’ll want to fill these in yourself (you can delete them
if you don’t want the title block at the top of the page). The date is filled
in by default: it uses a special knitr syntax (explained below) to insert
today’s date.</p></li>
<li><p>Output: this tells rmarkdown which output formatter to use.
There are many options that are useful for regular reports (including
html, pdf, slideshows, …) but <code>rmarkdown::html_vignette</code> has been
specifically designed to work well inside packages. See
<code>?rmarkdown::html_vignette</code> for more details.</p></li>
<li><p>Vignette: this contains a special block of metadata needed by R. Here, you can
see the legacy of LaTeX vignettes: the metadata looks like LaTeX commands.
You’ll need to modify the <code>\VignetteIndexEntry</code> to provide the title of your
vignette as you’d like it to appear in the vignette index. Leave the other
two lines as is. They tell R to use <code>knitr</code> to process the file, and that the
file is encoded in UTF-8 (the only encoding you should ever use to write
vignettes).</p></li>
</ul>
</div>
<div id="markdown" class="section level2">
<h2><span class="header-section-number">6.3</span> Markdown</h2>
<p>R Markdown vignettes are written in Markdown, a light weight markup language. John Gruber, the author of Markdown, summarises the goals and philosophy of Markdown:</p>
<blockquote>
<p>Markdown is intended to be as easy-to-read and easy-to-write as is feasible.</p>
<p>Readability, however, is emphasized above all else. A Markdown-formatted
document should be publishable as-is, as plain text, without looking like
it’s been marked up with tags or formatting instructions. While Markdown’s
syntax has been influenced by several existing text-to-HTML filters —
including Setext, atx, Textile, reStructuredText, Grutatext, and EtText —
the single biggest source of inspiration for Markdown’s syntax is the format
of plain text email.</p>
<p>To this end, Markdown’s syntax is comprised entirely of punctuation
characters, which punctuation characters have been carefully chosen so as
to look like what they mean. E.g., asterisks around a word actually look
like <em>emphasis</em>. Markdown lists look like, well, lists. Even blockquotes
look like quoted passages of text, assuming you’ve ever used email.</p>
</blockquote>
<p>Markdown isn’t as powerful as LaTeX, reStructuredText or docbook, but it’s simple, easy to write, and easy to read even when it’s not rendered. I find Markdown’s constraints helpful for writing because it lets me focus on the content, and prevents me from messing around with the styling.</p>
<p>If you’ve never used Markdown before, a good place to start is John Gruber’s <a href="http://daringfireball.net/projects/markdown/syntax">Markdown syntax documentation</a>. Pandoc’s implementation of Markdown rounds off some of the rough edges and adds a number of new features, so I also recommend familiarising yourself with the <a href="http://johnmacfarlane.net/pandoc/README.html">pandoc readme</a>. When editing a Markdown document, RStudio presents a drop-down menu via the question mark icon, which offers a Markdown reference card.</p>
<p>The sections below show you what I think are the most important features of pandoc’s Markdown dialect. You should be able to learn the basics in under 15 minutes.</p>
<div id="sections" class="section level3">
<h3><span class="header-section-number">6.3.1</span> Sections</h3>
<p>Headings are identified by <code>#</code>:</p>
<pre><code># Heading 1
## Heading 2
### Heading 3</code></pre>
<p>Create a horizontal rule with three or more hyphens (or asterisks):</p>
<pre><code>--------
********</code></pre>
</div>
<div id="lists-1" class="section level3">
<h3><span class="header-section-number">6.3.2</span> Lists</h3>
<p>Basic unordered lists use <code>*</code>:</p>
<pre><code>* Bulleted list
* Item 2
    * Nested bullets need a 4-space indent.
    * Item 2b</code></pre>
<p>If you want multiparagraph lists, the second and subsequent paragraphs need additional indenting:</p>
<pre><code>  * It&#39;s possible to put multiple paragraphs of text in a list item. 

    But to do that, the second and subsequent paragraphs must be
    indented by four or more spaces. It looks better if the first
    bullet is also indented.</code></pre>
<p>Ordered lists use: <code>1.</code>:</p>
<pre><code>1. Item 1
1. Item 2
1. Items are numbered automatically, even though they all start with 1.</code></pre>
<p>You can intermingle ordered and bulleted lists, as long as you adhere to the four space rule:</p>
<pre><code>1.  Item 1.
    *  Item a
    *  Item b
1.  Item 2.</code></pre>
<p>Definition lists use <code>:</code></p>
<pre><code>Definition
  : a statement of the exact meaning of a word, especially in a dictionary.
List 
  : a number of connected items or names written or printed consecutively, 
    typically one below the other. 
  : barriers enclosing an area for a jousting tournament.</code></pre>
</div>
<div id="inline-formatting" class="section level3">
<h3><span class="header-section-number">6.3.3</span> Inline formatting</h3>
<p>Inline format is similarly simple:</p>
<pre><code>_italic_ or *italic*
__bold__ or **bold**    
[link text](destination)
&lt;http://this-is-a-raw-url.com&gt;</code></pre>
</div>
<div id="tables-1" class="section level3">
<h3><span class="header-section-number">6.3.4</span> Tables</h3>
<p>There are <a href="http://johnmacfarlane.net/pandoc/README.html#tables">four types of tables</a>. I recommend using the pipe table which looks like this:</p>
<pre><code>| Right | Left | Default | Center |
|------:|:-----|---------|:------:|
|   12  |  12  |    12   |    12  |
|  123  |  123 |   123   |   123  |
|    1  |    1 |     1   |     1  |</code></pre>
<p>Notice the use of the <code>:</code> in the spacer under the heading. This determines the alignment of the column.</p>
<p>If the data underlying your table exists in R, don’t lay it out by hand. Instead use <code>knitr::kable()</code>, or look at <a href="https://github.com/yihui/printr">printr</a> or <a href="http://rapporter.github.io/pander/">pander</a>.</p>
</div>
<div id="code" class="section level3">
<h3><span class="header-section-number">6.3.5</span> Code</h3>
<p>For inline code use <code>`code`</code>.</p>
<p>For bigger blocks of code, use <code>```</code>. These are known as “fenced” code blocks:</p>
<pre><code>```
# A comment
add &lt;- function(a, b) a + b
```</code></pre>
<p>To add syntax highlighting to the code, put the language name after the backtick:</p>
<pre><code>```c
int add(int a, int b) {
  return a + b;
}
```</code></pre>
<p>(At time of printing, languages supported by pandoc were: actionscript, ada, apache, asn1, asp, awk, bash, bibtex, boo, c, changelog, clojure, cmake, coffee, coldfusion, commonlisp, cpp, cs, css, curry, d, diff, djangotemplate, doxygen, doxygenlua, dtd, eiffel, email, erlang, fortran, fsharp, gnuassembler, go, haskell, haxe, html, ini, java, javadoc, javascript, json, jsp, julia, latex, lex, literatecurry, literatehaskell, lua, makefile, mandoc, matlab, maxima, metafont, mips, modula2, modula3, monobasic, nasm, noweb, objectivec, objectivecpp, ocaml, octave, pascal, perl, php, pike, postscript, prolog, python, r, relaxngcompact, rhtml, ruby, rust, scala, scheme, sci, sed, sgml, sql, sqlmysql, sqlpostgresql, tcl, texinfo, verilog, vhdl, xml, xorg, xslt, xul, yacc, yaml. Syntax highlighting is done by the haskell package <a href="http://johnmacfarlane.net/highlighting-kate">highlighting-kate</a>; see the website for current list.)</p>
<p>When you include R code in your vignette, you usually won’t use <code>```r</code>. Instead, you’ll use <code>```{r}</code>, which is specially processed by knitr, as described next.</p>
</div>
</div>
<div id="knitr" class="section level2">
<h2><span class="header-section-number">6.4</span> Knitr</h2>
<p>Knitr allows you to intermingle code, results and text. Knitr takes R code, runs it, captures the output, and translates it into formatted Markdown. Knitr captures all printed output, messages, warnings, errors (optionally) and plots (basic graphics, lattice &amp; ggplot and more).</p>
<p>Consider the simple example below. Note that a knitr block looks similar to a fenced code block, but instead of using <code>r</code>, you are using <code>{r}</code>.</p>
<pre><code>```{r}
# Add two numbers together
add &lt;- function(a, b) a + b
add(10, 20)
```</code></pre>
<p>This generates the following Markdown:</p>
<pre><code>```r
# Add two numbers together
add &lt;- function(a, b) a + b
add(10, 20)
## [1] 30
```</code></pre>
<p>Which, in turn, is rendered as:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Add two numbers together</span>
add &lt;-<span class="st"> </span><span class="cf">function</span>(a, b) a <span class="op">+</span><span class="st"> </span>b
<span class="kw">add</span>(<span class="dv">10</span>, <span class="dv">20</span>)
<span class="co">## 30</span></code></pre>
<p>Once you start using knitr, you’ll never look back. Because your code is always run when you build the vignette, you can rest assured knowing that all your code works. There’s no way for your input and output to be out of sync.</p>
<div id="options" class="section level3">
<h3><span class="header-section-number">6.4.1</span> Options</h3>
<p>You can specify additional options to control the rendering:</p>
<ul>
<li><p>To affect a single block, add the block settings:</p>
<pre><code>  ```{r, opt1 = val1, opt2 = val2}
  # code
  ```</code></pre></li>
<li><p>To affect all blocks, call <code>knitr::opts_chunk$set()</code> in a knitr block:</p>
<pre><code>  ```{r, echo = FALSE}
  knitr::opts_chunk$set(
    opt1 = val1,
    opt2 = val2
  )
  ```</code></pre></li>
</ul>
<p>The most important options are:</p>
<ul>
<li><p><code>eval = FALSE</code> prevents evaluation of the code. This is useful if you want
to show some code that would take a long time to run. Be careful when you
use this: since the code is not run, it’s easy to introduce bugs.
(Also, your users will be puzzled when they copy &amp; paste code and it doesn’t
work.)</p></li>
<li><p><code>echo = FALSE</code> turns off the printing of the code <em>input</em> (the output
will still be printed). Generally, you shouldn’t use this in vignettes
because understanding what the code is doing is important. It’s more useful
when writing reports since the code is typically less important than the
output.</p></li>
<li><p><code>results = &quot;hide&quot;</code> turns off the printing of code <em>output</em>.</p></li>
<li><p><code>warning = FALSE</code> and <code>message = FALSE</code> suppress the display of warnings
and messages.</p></li>
<li><p><code>error = TRUE</code> captures any errors in the block and shows them inline.
This is useful if you want to demonstrate what happens if code throws an error.
Whenever you use <code>error = TRUE</code>, you also need to use <code>purl = FALSE</code>. This
is because every vignette is accompanied by a file code that contains all the
code from the vignette. R must be able to source that file without errors,
and <code>purl = FALSE</code> prevents the code from being inserted into that document.</p></li>
<li><p><code>collapse = TRUE</code> and <code>comment = &quot;#&gt;&quot;</code> are my preferred way of displaying
code output. I usually set these globally by putting the following knitr
block at the start of my document.</p>
<pre><code>  ```{r, echo = FALSE}
  knitr::opts_chunk$set(collapse = TRUE, comment = &quot;#&gt;&quot;)
  ```</code></pre></li>
<li><p><code>results = &quot;asis&quot;</code> treats the output of your R code as literal Markdown.
This is useful if you want to generate text from your R code. For example,
if you want to generate a table using the pander package, you’d do:</p>
<pre><code>```{r, results = &quot;asis&quot;}
pander::pandoc.table(iris[1:3, 1:4])
```</code></pre>
<p>That generates a Markdown table that looks like:</p>
<pre><code>--------------------------------------------------------
 Sepal.Length   Sepal.Width   Petal.Length   Petal.Width 
-------------- ------------- -------------- -------------
     5.1            3.5           1.4            0.2     

     4.9             3            1.4            0.2     

     4.7            3.2           1.3            0.2     
---------------------------------------------------------</code></pre>
<p>Which makes a table that looks like:</p>
<table style="width:82%;">
<colgroup>
<col width="20%" />
<col width="19%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Sepal.Length</th>
<th align="center">Sepal.Width</th>
<th align="center">Petal.Length</th>
<th align="center">Petal.Width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">5.1</td>
<td align="center">3.5</td>
<td align="center">1.4</td>
<td align="center">0.2</td>
</tr>
<tr class="even">
<td align="center">4.9</td>
<td align="center">3</td>
<td align="center">1.4</td>
<td align="center">0.2</td>
</tr>
<tr class="odd">
<td align="center">4.7</td>
<td align="center">3.2</td>
<td align="center">1.3</td>
<td align="center">0.2</td>
</tr>
</tbody>
</table></li>
<li><p><code>fig.show = &quot;hold&quot;</code> holds all figures until the end of the code block.</p></li>
<li><p><code>fig.width = 5</code> and <code>fig.height = 5</code> set the height and width of figures
(in inches).</p></li>
</ul>
<p>Many other options are described at <a href="http://yihui.name/knitr/options" class="uri">http://yihui.name/knitr/options</a>.</p>
</div>
</div>
<div id="vignette-workflow-2" class="section level2">
<h2><span class="header-section-number">6.5</span> Development cycle</h2>
<p>Run code a chunk at a time using Cmd + Alt + C. Re-run the entire document in a fresh R session using Knit (Ctrl/Cmd + Shift + K).</p>
<p>You can build all vignettes from the console with <code>devtools::build_vignettes()</code>, but this is rarely useful. Instead use <code>devtools::build()</code> to create a package bundle with the vignettes included. RStudio’s “Build &amp; reload” does not build vignettes to save time. Similarly, <code>devtools::install_github()</code> (and friends) will not build vignettes by default because they’re time consuming and may require additional packages. You can force building with <code>devtools::install_github(build_vignettes = TRUE)</code>. This will also install all suggested packages.</p>
</div>
<div id="vignette-advice" class="section level2">
<h2><span class="header-section-number">6.6</span> Advice for writing vignettes</h2>
<blockquote>
<p>If you’re thinking without writing, you only think you’re thinking.
— Leslie Lamport</p>
</blockquote>
<p>When writing a vignette, you’re teaching someone how to use your package. You need to put yourself in the readers’ shoes, and adopt a “beginner’s mind”. This can be difficult because it’s hard to forget all of the knowledge that you’ve already internalised. For this reason, I find teaching in-person a really useful way to get feedback on my vignettes. Not only do you get that feedback straight away but it’s also a much easier way to learn what people already know.</p>
<p>A useful side effect of this approach is that it helps you improve your code. It forces you to re-see the initial onboarding process and to appreciate the parts that are hard. Every time that I’ve written text that describes the initial experience, I’ve realised that I’ve missed some important functions. Adding those functions not only helps my users, but it often also helps me! (This is one of the reasons that I like writing books).</p>
<ul>
<li><p>I strongly recommend literally anything written by Kathy Sierra. Her old blog,
<a href="http://headrush.typepad.com/">Creating passionate users</a> is full of advice
about programming, teaching, and how to create valuable tools. I thoroughly
recommend reading through all the older content. Her new blog,
<a href="http://seriouspony.com/blog/">Serious Pony</a>, doesn’t have as much content,
but it has some great articles.</p></li>
<li><p>If you’d like to learn how to write better, I highly recommend
<a href="http://amzn.com/0321898680">Style: Lessons in Clarity and Grace</a> by
Joseph M. Williams and Joseph Bizup. It helps you understand the structure of
writing so that you’ll be better able to recognise and fix bad writing.</p></li>
</ul>
<p>Writing a vignette also makes a nice break from coding. In my experience, writing uses a different part of the brain from programming, so if you’re sick of programming, try writing for a bit. (This is related to the idea of <a href="http://www.structuredprocrastination.com/">structured procrastination</a>.).</p>
<div id="organisation" class="section level3">
<h3><span class="header-section-number">6.6.1</span> Organisation</h3>
<p>For simpler packages, one vignette is often sufficient. But for more complicated packages you may actually need more than one. In fact, you can have as many vignettes as you like. I tend to think of them like chapters of a book - they should be self-contained, but still link together into a cohesive whole.</p>
<p>Although it’s a slight hack, you can link various vignettes by taking advantage of how files are stored on disk: to link to vignette <code>abc.Rmd</code>, just make a link to <code>abc.html</code>.</p>
</div>
</div>
<div id="vignette-cran" class="section level2">
<h2><span class="header-section-number">6.7</span> CRAN notes</h2>
<p>Note that since you build vignettes locally, CRAN only receives the html/pdf and the source code. However, CRAN does not re-build the vignette. It only checks that the code is runnable (by running it). This means that any packages used by the vignette must be declared in the <code>DESCRIPTION</code>. But this also means that you can use Rmarkdown (which uses pandoc) even though CRAN doesn’t have pandoc installed.</p>
<p>Common problems:</p>
<ul>
<li><p>The vignette builds interactively, but when checking, it fails with an error
about a missing package that you know is installed. This means that you’ve
forgotten to declare that dependency in the <code>DESCRIPTION</code> (usually it should
go in <code>Suggests</code>).</p></li>
<li><p>Everything works interactively, but the vignette doesn’t show up after
you’ve installed the package. One of the following may have occurred. First,
because RStudio’s “build and reload” doesn’t build vignettes, you may need
to run <code>devtools::install()</code> instead. Next check:</p>
<ol style="list-style-type: decimal">
<li><p>The directory is called <code>vignettes/</code> and not <code>vignette/</code>.</p></li>
<li><p>Check that you haven’t inadvertently excluded the vignettes with
<code>.Rbuildignore</code></p></li>
<li><p>Ensure you have the necessary vignette metadata.</p></li>
</ol></li>
<li><p>If you use <code>error = TRUE</code>, you must use <code>purl = FALSE</code>.</p></li>
</ul>
<p>You’ll need to watch the file size. If you include a lot of graphics, it’s easy to create a very large file. There are no hard and fast rules, but if you have a very large vignette be prepared to either justify the file size, or to make it smaller.</p>
</div>
<div id="where-next" class="section level2">
<h2><span class="header-section-number">6.8</span> Where next</h2>
<p>If you’d like more control over the appearance of your vignette, you’ll need to learn more about Rmarkdown. The website, <a href="http://rmarkdown.rstudio.com" class="uri">http://rmarkdown.rstudio.com</a>, is a great place to start. There you can learn about alternative output formats (like LaTeX and pdf) and how you can incorporate raw HTML and LaTeX if you need additional control.</p>
<p>If you write a nice vignette, consider submitting it to the <em>Journal of Statistical Software</em> or <em>The R Journal</em>. Both journals are electronic only and peer-reviewed. Comments from reviewers can be very helpful for improving the quality of your vignette and the related software.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="man.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tests.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/hadley/r-pkgs/edit/master/06-vignettes.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
